"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("pages/index",{

/***/ "(pages-dir-browser)/./src/components/ThermalScanner.tsx":
/*!*******************************************!*\
  !*** ./src/components/ThermalScanner.tsx ***!
  \*******************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(pages-dir-browser)/./node_modules/react/jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(pages-dir-browser)/./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _mediapipe_tasks_vision__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @mediapipe/tasks-vision */ \"(pages-dir-browser)/./node_modules/@mediapipe/tasks-vision/vision_bundle.mjs\");\n/* harmony import */ var _ResultScreen__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./ResultScreen */ \"(pages-dir-browser)/./src/components/ResultScreen.tsx\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \nvar _s = $RefreshSig$(), _s1 = $RefreshSig$(), _s2 = $RefreshSig$();\n\n\n\n// Optimized thermal color function with pre-calculated lookup table\nconst createThermalLookupTable = ()=>{\n    const lookupTable = [];\n    for(let i = 0; i <= 255; i++){\n        const normalized = i / 255;\n        if (normalized < 0.3) {\n            const t = normalized / 0.3;\n            lookupTable[i] = [\n                0,\n                Math.floor(t * 255),\n                255\n            ];\n        } else if (normalized < 0.35) {\n            const t = (normalized - 0.3) / 0.05;\n            lookupTable[i] = [\n                0,\n                255,\n                Math.floor(255 * (1 - t))\n            ];\n        } else if (normalized < 0.5) {\n            const t = (normalized - 0.35) / 0.15;\n            lookupTable[i] = [\n                Math.floor(t * 255),\n                255,\n                0\n            ];\n        } else if (normalized < 0.75) {\n            const t = (normalized - 0.5) / 0.25;\n            lookupTable[i] = [\n                255,\n                Math.floor(255 * (1 - t)),\n                0\n            ];\n        } else {\n            const t = (normalized - 0.75) / 0.25;\n            lookupTable[i] = [\n                255,\n                Math.floor(t * 165),\n                0\n            ];\n        }\n    }\n    return lookupTable;\n};\nconst thermalLookupTable = createThermalLookupTable();\nconst ASPECT_RATIO = 9 / 16;\nconst WIDTH = 720;\nconst HEIGHT = Math.round(WIDTH / ASPECT_RATIO);\n// Simple Lottie component using iframe\nconst LottieCountdown = (param)=>{\n    let { onComplete } = param;\n    _s();\n    const [isCompleted, setIsCompleted] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"LottieCountdown.useEffect\": ()=>{\n            // Listen for the animation completion\n            const handleMessage = {\n                \"LottieCountdown.useEffect.handleMessage\": (event)=>{\n                    if (event.data === \"lottie-complete\" && !isCompleted) {\n                        setIsCompleted(true);\n                        onComplete();\n                    }\n                }\n            }[\"LottieCountdown.useEffect.handleMessage\"];\n            window.addEventListener(\"message\", handleMessage);\n            // Fallback timer in case the event doesn't fire - give it more time for full countdown\n            const fallbackTimer = setTimeout({\n                \"LottieCountdown.useEffect.fallbackTimer\": ()=>{\n                    if (!isCompleted) {\n                        setIsCompleted(true);\n                        onComplete();\n                    }\n                }\n            }[\"LottieCountdown.useEffect.fallbackTimer\"], 4000) // Increased to 4 seconds to ensure full countdown\n            ;\n            return ({\n                \"LottieCountdown.useEffect\": ()=>{\n                    window.removeEventListener(\"message\", handleMessage);\n                    clearTimeout(fallbackTimer);\n                }\n            })[\"LottieCountdown.useEffect\"];\n        }\n    }[\"LottieCountdown.useEffect\"], [\n        onComplete,\n        isCompleted\n    ]);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        style: {\n            position: \"absolute\",\n            inset: 0,\n            display: \"flex\",\n            justifyContent: \"center\",\n            alignItems: \"center\",\n            zIndex: 30,\n            background: \"rgba(0, 0, 0, 0.3)\",\n            backdropFilter: \"blur(2px)\"\n        },\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"iframe\", {\n            src: \"data:text/html;charset=utf-8,%3Chtml%3E%3Chead%3E%3Cscript src='https://unpkg.com/@lottiefiles/dotlottie-wc@0.6.2/dist/dotlottie-wc.js' type='module'%3E%3C/script%3E%3C/head%3E%3Cbody style='margin:0;padding:0;background:transparent;display:flex;justify-content:center;align-items:center;height:100vh;'%3E%3Cdotlottie-wc src='https://lottie.host/e5113891-a79e-4395-a656-76372b815e5c/0kJGXH5ssH.lottie' style='width: 1000px;height: 1000px' speed='1' autoplay%3E%3C/dotlottie-wc%3E%3C/body%3E%3Cscript%3Edocument.querySelector('dotlottie-wc').addEventListener('complete', () => %7B parent.postMessage('lottie-complete', '*'); %7D);%3C/script%3E%3C/body%3E%3C/html%3E\",\n            style: {\n                width: \"1000px\",\n                height: \"1000px\",\n                border: \"none\",\n                background: \"transparent\"\n            },\n            title: \"Countdown Animation\"\n        }, void 0, false, {\n            fileName: \"C:\\\\Users\\\\Acer\\\\Desktop\\\\thermal-scan\\\\thermal-scan\\\\src\\\\components\\\\ThermalScanner.tsx\",\n            lineNumber: 84,\n            columnNumber: 7\n        }, undefined)\n    }, void 0, false, {\n        fileName: \"C:\\\\Users\\\\Acer\\\\Desktop\\\\thermal-scan\\\\thermal-scan\\\\src\\\\components\\\\ThermalScanner.tsx\",\n        lineNumber: 72,\n        columnNumber: 5\n    }, undefined);\n};\n_s(LottieCountdown, \"SaNq15iri2kwmUpIV/5IZzxmPSw=\");\n_c = LottieCountdown;\n// Enhanced Animated Temperature Display Component with multiple animations\nconst AnimatedTemperatureDisplay = (param)=>{\n    let { targetTemp, isVisible } = param;\n    _s1();\n    const [currentTemp, setCurrentTemp] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(10);\n    const [isAnimationComplete, setIsAnimationComplete] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const animationRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)();\n    const startTimeRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)();\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"AnimatedTemperatureDisplay.useEffect\": ()=>{\n            if (!isVisible) {\n                setCurrentTemp(10);\n                setIsAnimationComplete(false);\n                return;\n            }\n            startTimeRef.current = Date.now();\n            const animate = {\n                \"AnimatedTemperatureDisplay.useEffect.animate\": ()=>{\n                    const elapsed = Date.now() - (startTimeRef.current || 0);\n                    const duration = 2000 // 2 seconds total animation\n                    ;\n                    if (elapsed >= duration) {\n                        setCurrentTemp(targetTemp);\n                        setIsAnimationComplete(true);\n                        return;\n                    }\n                    // Easing function that slows down near the target\n                    const progress = elapsed / duration;\n                    const easeOutQuart = 1 - Math.pow(1 - progress, 4);\n                    // Calculate current temperature with easing\n                    const tempRange = targetTemp - 10;\n                    const newTemp = 10 + tempRange * easeOutQuart;\n                    setCurrentTemp(Math.round(newTemp * 10) / 10); // Round to 1 decimal place\n                    animationRef.current = requestAnimationFrame(animate);\n                }\n            }[\"AnimatedTemperatureDisplay.useEffect.animate\"];\n            animationRef.current = requestAnimationFrame(animate);\n            return ({\n                \"AnimatedTemperatureDisplay.useEffect\": ()=>{\n                    if (animationRef.current) {\n                        cancelAnimationFrame(animationRef.current);\n                    }\n                }\n            })[\"AnimatedTemperatureDisplay.useEffect\"];\n        }\n    }[\"AnimatedTemperatureDisplay.useEffect\"], [\n        targetTemp,\n        isVisible\n    ]);\n    if (!isVisible) return null;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        style: {\n            position: \"absolute\",\n            bottom: \"10%\",\n            left: \"50%\",\n            transform: \"translateX(-50%)\",\n            zIndex: 20,\n            pointerEvents: \"none\",\n            color: \"#ffffff\",\n            fontSize: \"6rem\",\n            fontWeight: 900,\n            fontFamily: '\"Orbitron\", \"Courier New\", monospace',\n            textShadow: \"0 0 20px rgba(255, 255, 255, 0.9), 0 0 40px #00ff88, 0 0 60px #00ff88, 0 0 80px #00ff88\",\n            animation: isAnimationComplete ? \"temperatureFinalGlow 1.5s ease-in-out infinite alternate, temperatureFloat 3s ease-in-out infinite\" : \"temperatureCountingGlow 0.3s ease-in-out infinite alternate, temperatureScale 0.1s ease-in-out infinite alternate\",\n            filter: \"drop-shadow(0 0 30px #00ff88)\"\n        },\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                style: {\n                    display: \"inline-block\",\n                    animation: !isAnimationComplete ? \"temperatureDigitFlicker 0.2s ease-in-out infinite\" : \"none\"\n                },\n                children: [\n                    currentTemp.toFixed(1),\n                    \"\\xb0\"\n                ]\n            }, void 0, true, {\n                fileName: \"C:\\\\Users\\\\Acer\\\\Desktop\\\\thermal-scan\\\\thermal-scan\\\\src\\\\components\\\\ThermalScanner.tsx\",\n                lineNumber: 171,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                style: {\n                    position: \"absolute\",\n                    top: \"50%\",\n                    left: \"50%\",\n                    transform: \"translate(-50%, -50%)\",\n                    width: \"120%\",\n                    height: \"120%\",\n                    background: \"radial-gradient(circle, rgba(0, 255, 136, 0.3) 0%, rgba(0, 255, 136, 0.1) 50%, transparent 70%)\",\n                    borderRadius: \"50%\",\n                    animation: \"temperatureBackgroundPulse 2s ease-in-out infinite\",\n                    zIndex: -1\n                }\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\Acer\\\\Desktop\\\\thermal-scan\\\\thermal-scan\\\\src\\\\components\\\\ThermalScanner.tsx\",\n                lineNumber: 181,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                style: {\n                    position: \"absolute\",\n                    top: \"50%\",\n                    left: \"50%\",\n                    transform: \"translate(-50%, -50%)\",\n                    width: \"200%\",\n                    height: \"200%\",\n                    pointerEvents: \"none\",\n                    zIndex: -1\n                },\n                children: [\n                    ...Array(6)\n                ].map((_, i)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        style: {\n                            position: \"absolute\",\n                            width: \"4px\",\n                            height: \"4px\",\n                            background: \"#00ff88\",\n                            borderRadius: \"50%\",\n                            top: \"\".concat(20 + i * 10, \"%\"),\n                            left: \"\".concat(30 + i * 8, \"%\"),\n                            animation: \"temperatureParticle\".concat(i, \" \").concat(2 + i * 0.3, \"s ease-in-out infinite\"),\n                            boxShadow: \"0 0 10px #00ff88\"\n                        }\n                    }, i, false, {\n                        fileName: \"C:\\\\Users\\\\Acer\\\\Desktop\\\\thermal-scan\\\\thermal-scan\\\\src\\\\components\\\\ThermalScanner.tsx\",\n                        lineNumber: 210,\n                        columnNumber: 11\n                    }, undefined))\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\Acer\\\\Desktop\\\\thermal-scan\\\\thermal-scan\\\\src\\\\components\\\\ThermalScanner.tsx\",\n                lineNumber: 197,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"style\", {\n                children: \"\\n        @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&display=swap');\\n        \\n        @keyframes temperatureCountingGlow {\\n          0% { \\n            textShadow: 0 0 15px rgba(255, 255, 255, 0.8), 0 0 30px #00ff88, 0 0 45px #00ff88, 0 0 60px #00ff88;\\n            transform: translateX(-50%) scale(1);\\n          }\\n          100% { \\n            textShadow: 0 0 25px rgba(255, 255, 255, 1), 0 0 50px #00ff88, 0 0 75px #00ff88, 0 0 100px #00ff88;\\n            transform: translateX(-50%) scale(1.05);\\n          }\\n        }\\n        \\n        @keyframes temperatureFinalGlow {\\n          0% { \\n            textShadow: 0 0 20px rgba(255, 255, 255, 0.9), 0 0 40px #00ff88, 0 0 60px #00ff88, 0 0 80px #00ff88;\\n          }\\n          100% { \\n            textShadow: 0 0 30px rgba(255, 255, 255, 1), 0 0 60px #00ff88, 0 0 90px #00ff88, 0 0 120px #00ff88;\\n          }\\n        }\\n        \\n        @keyframes temperatureScale {\\n          0% { transform: translateX(-50%) scale(1); }\\n          100% { transform: translateX(-50%) scale(1.02); }\\n        }\\n        \\n        @keyframes temperatureFloat {\\n          0%, 100% { transform: translateX(-50%) translateY(0px); }\\n          50% { transform: translateX(-50%) translateY(-10px); }\\n        }\\n        \\n        @keyframes temperatureDigitFlicker {\\n          0%, 100% { opacity: 1; }\\n          50% { opacity: 0.8; }\\n        }\\n        \\n        @keyframes temperatureBackgroundPulse {\\n          0%, 100% { \\n            transform: translate(-50%, -50%) scale(1);\\n            opacity: 0.3;\\n          }\\n          50% { \\n            transform: translate(-50%, -50%) scale(1.2);\\n            opacity: 0.1;\\n          }\\n        }\\n        \\n        @keyframes temperatureParticle0 {\\n          0%, 100% { transform: translateY(0px) rotate(0deg); opacity: 0.8; }\\n          50% { transform: translateY(-20px) rotate(180deg); opacity: 0.3; }\\n        }\\n        \\n        @keyframes temperatureParticle1 {\\n          0%, 100% { transform: translateY(0px) rotate(0deg); opacity: 0.6; }\\n          50% { transform: translateY(-15px) rotate(-180deg); opacity: 0.2; }\\n        }\\n        \\n        @keyframes temperatureParticle2 {\\n          0%, 100% { transform: translateY(0px) rotate(0deg); opacity: 0.7; }\\n          50% { transform: translateY(-25px) rotate(90deg); opacity: 0.4; }\\n        }\\n        \\n        @keyframes temperatureParticle3 {\\n          0%, 100% { transform: translateY(0px) rotate(0deg); opacity: 0.5; }\\n          50% { transform: translateY(-18px) rotate(-90deg); opacity: 0.1; }\\n        }\\n        \\n        @keyframes temperatureParticle4 {\\n          0%, 100% { transform: translateY(0px) rotate(0deg); opacity: 0.8; }\\n          50% { transform: translateY(-22px) rotate(270deg); opacity: 0.3; }\\n        }\\n        \\n        @keyframes temperatureParticle5 {\\n          0%, 100% { transform: translateY(0px) rotate(0deg); opacity: 0.6; }\\n          50% { transform: translateY(-16px) rotate(-270deg); opacity: 0.2; }\\n        }\\n      \"\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\Acer\\\\Desktop\\\\thermal-scan\\\\thermal-scan\\\\src\\\\components\\\\ThermalScanner.tsx\",\n                lineNumber: 227,\n                columnNumber: 7\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"C:\\\\Users\\\\Acer\\\\Desktop\\\\thermal-scan\\\\thermal-scan\\\\src\\\\components\\\\ThermalScanner.tsx\",\n        lineNumber: 152,\n        columnNumber: 5\n    }, undefined);\n};\n_s1(AnimatedTemperatureDisplay, \"brMXbhma6Y628DSijvCnn4egQkU=\");\n_c1 = AnimatedTemperatureDisplay;\nconst ThermalScanner = ()=>{\n    _s2();\n    const videoRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const canvasRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const streamRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const [phase, setPhase] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"idle\");\n    const [result, setResult] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [isCool, setIsCool] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [faceLandmarker, setFaceLandmarker] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [isCameraReady, setIsCameraReady] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [thermalProgress, setThermalProgress] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0);\n    const [targetTemperature, setTargetTemperature] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0);\n    const [showTemperature, setShowTemperature] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const animationFrameId = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(undefined);\n    const phaseStartTime = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(0);\n    // Performance optimization: frame skipping for thermal effect\n    const frameSkipCounter = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(0);\n    const THERMAL_FRAME_SKIP = 2 // Apply thermal effect every 3rd frame\n    ;\n    // This central useEffect hook manages all phase transitions with timeouts\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"ThermalScanner.useEffect\": ()=>{\n            phaseStartTime.current = Date.now();\n            if (phase === \"scanDown\") {\n                const timer = setTimeout({\n                    \"ThermalScanner.useEffect.timer\": ()=>setPhase(\"thermalHoldAfterDown\")\n                }[\"ThermalScanner.useEffect.timer\"], 3000);\n                return ({\n                    \"ThermalScanner.useEffect\": ()=>clearTimeout(timer)\n                })[\"ThermalScanner.useEffect\"];\n            }\n            if (phase === \"thermalHoldAfterDown\") {\n                const timer = setTimeout({\n                    \"ThermalScanner.useEffect.timer\": ()=>setPhase(\"scanUp\")\n                }[\"ThermalScanner.useEffect.timer\"], 3000);\n                return ({\n                    \"ThermalScanner.useEffect\": ()=>clearTimeout(timer)\n                })[\"ThermalScanner.useEffect\"];\n            }\n            if (phase === \"scanUp\") {\n                const timer = setTimeout({\n                    \"ThermalScanner.useEffect.timer\": ()=>setPhase(\"thermalHoldAfterUp\")\n                }[\"ThermalScanner.useEffect.timer\"], 3000);\n                return ({\n                    \"ThermalScanner.useEffect\": ()=>clearTimeout(timer)\n                })[\"ThermalScanner.useEffect\"];\n            }\n            if (phase === \"thermalHoldAfterUp\") {\n                // Decide the outcome at the beginning of this phase\n                const cool = Math.random() < 0.9;\n                setIsCool(cool);\n                setResult(cool ? \"Cool vibes detected. Come on in!\" : \"Whoa, you're on fire â€” cool down and try again!\");\n                // Set target temperature and show it after 1 second\n                const tempTimer = setTimeout({\n                    \"ThermalScanner.useEffect.tempTimer\": ()=>{\n                        const tempValue = cool ? Math.random() * 10 + 80 // 80.0 to 90.0\n                         : Math.random() * 10 + 90 // 90.0 to 100.0\n                        ;\n                        setTargetTemperature(tempValue);\n                        setShowTemperature(true);\n                    }\n                }[\"ThermalScanner.useEffect.tempTimer\"], 1000) // 1-second delay\n                ;\n                // Hold this phase for 5 seconds before moving to the result\n                // (1 second delay + 2 seconds animation + 2 seconds display = 5 seconds total)\n                const phaseTimer = setTimeout({\n                    \"ThermalScanner.useEffect.phaseTimer\": ()=>{\n                        setPhase(\"result\");\n                        stopCamera();\n                    }\n                }[\"ThermalScanner.useEffect.phaseTimer\"], 5000) // Changed from 3000 to 5000\n                ;\n                // Ensure both timers are cleared on cleanup\n                return ({\n                    \"ThermalScanner.useEffect\": ()=>{\n                        clearTimeout(tempTimer);\n                        clearTimeout(phaseTimer);\n                    }\n                })[\"ThermalScanner.useEffect\"];\n            }\n        }\n    }[\"ThermalScanner.useEffect\"], [\n        phase\n    ]);\n    // Optimized thermal effect processing\n    const applyThermalEffect = (ctx, width, height, progress)=>{\n        // Reduce processing resolution for better performance\n        const scaleFactor = 0.5 // Process at half resolution\n        ;\n        const processWidth = Math.floor(width * scaleFactor);\n        const processHeight = Math.floor(height * scaleFactor);\n        // Create a smaller canvas for processing\n        const tempCanvas = document.createElement(\"canvas\");\n        tempCanvas.width = processWidth;\n        tempCanvas.height = processHeight;\n        const tempCtx = tempCanvas.getContext(\"2d\");\n        // Draw scaled down version\n        tempCtx.drawImage(ctx.canvas, 0, 0, processWidth, processHeight);\n        const imageData = tempCtx.getImageData(0, 0, processWidth, processHeight);\n        const data = imageData.data;\n        // Optimized pixel processing with lookup table\n        for(let i = 0; i < data.length; i += 4){\n            const gray = Math.floor(0.299 * data[i] + 0.587 * data[i + 1] + 0.114 * data[i + 2]);\n            const [thermalR, thermalG, thermalB] = thermalLookupTable[gray];\n            // Use bitwise operations for better performance\n            data[i] = data[i] * (1 - progress) + thermalR * progress | 0;\n            data[i + 1] = data[i + 1] * (1 - progress) + thermalG * progress | 0;\n            data[i + 2] = data[i + 2] * (1 - progress) + thermalB * progress | 0;\n        }\n        tempCtx.putImageData(imageData, 0, 0);\n        // Scale back up and draw to main canvas\n        ctx.drawImage(tempCanvas, 0, 0, width, height);\n    };\n    // This useEffect handles the video processing and thermal effect application\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"ThermalScanner.useEffect\": ()=>{\n            let lastVideoTime = -1;\n            const processVideo = {\n                \"ThermalScanner.useEffect.processVideo\": ()=>{\n                    const video = videoRef.current;\n                    const canvas = canvasRef.current;\n                    if (!video || !canvas || !isCameraReady) {\n                        animationFrameId.current = requestAnimationFrame(processVideo);\n                        return;\n                    }\n                    const ctx = canvas.getContext(\"2d\");\n                    if (!ctx || video.paused || video.ended || video.currentTime === lastVideoTime) {\n                        animationFrameId.current = requestAnimationFrame(processVideo);\n                        return;\n                    }\n                    lastVideoTime = video.currentTime;\n                    // Set canvas size to match its display size\n                    const rect = canvas.getBoundingClientRect();\n                    canvas.width = rect.width;\n                    canvas.height = rect.height;\n                    // Clear the canvas\n                    ctx.clearRect(0, 0, canvas.width, canvas.height);\n                    // Scale to fill height (vertical priority) - crop sides if needed\n                    const videoAspectRatio = video.videoWidth / video.videoHeight;\n                    const canvasAspectRatio = canvas.width / canvas.height;\n                    let drawWidth, drawHeight, offsetX, offsetY;\n                    // Always fit by height to fill the vertical space completely\n                    drawHeight = canvas.height;\n                    drawWidth = drawHeight * videoAspectRatio;\n                    // Center horizontally (may crop sides if video is too wide)\n                    offsetX = (canvas.width - drawWidth) / 2;\n                    offsetY = 0;\n                    // Apply horizontal flip transform for mirroring\n                    ctx.save();\n                    ctx.scale(-1, 1);\n                    ctx.translate(-canvas.width, 0);\n                    // Draw the video frame\n                    ctx.drawImage(video, offsetX, offsetY, drawWidth, drawHeight);\n                    ctx.restore();\n                    const now = Date.now();\n                    const elapsed = now - phaseStartTime.current;\n                    let currentThermalProgress = 0;\n                    if (phase === \"thermalHoldAfterDown\") {\n                        currentThermalProgress = Math.min(1, elapsed / 3000);\n                    } else if (phase === \"thermalHoldAfterUp\") {\n                        currentThermalProgress = Math.min(1, elapsed / 3000);\n                    } else if (phase === \"result\") {\n                        currentThermalProgress = Math.max(0, 1 - elapsed / 1000);\n                    }\n                    setThermalProgress(currentThermalProgress);\n                    const isThermalPhase = phase === \"thermalHoldAfterDown\" || phase === \"thermalHoldAfterUp\" || phase === \"result\";\n                    // Apply thermal effect with frame skipping for better performance\n                    if (isThermalPhase && currentThermalProgress > 0) {\n                        frameSkipCounter.current++;\n                        if (frameSkipCounter.current >= THERMAL_FRAME_SKIP) {\n                            frameSkipCounter.current = 0;\n                            applyThermalEffect(ctx, canvas.width, canvas.height, currentThermalProgress);\n                        }\n                    }\n                    if (phase === \"idle\" && faceLandmarker) {\n                        const detectionResult = faceLandmarker.detectForVideo(video, performance.now());\n                        if (detectionResult.faceLandmarks && detectionResult.faceLandmarks.length > 0) {\n                            setPhase(\"countdown\");\n                        }\n                    }\n                    animationFrameId.current = requestAnimationFrame(processVideo);\n                }\n            }[\"ThermalScanner.useEffect.processVideo\"];\n            animationFrameId.current = requestAnimationFrame(processVideo);\n            return ({\n                \"ThermalScanner.useEffect\": ()=>{\n                    if (animationFrameId.current) cancelAnimationFrame(animationFrameId.current);\n                }\n            })[\"ThermalScanner.useEffect\"];\n        }\n    }[\"ThermalScanner.useEffect\"], [\n        isCameraReady,\n        faceLandmarker,\n        phase\n    ]);\n    // Restart logic\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"ThermalScanner.useEffect\": ()=>{\n            if (phase !== \"result\") return;\n            const restartTimeout = setTimeout({\n                \"ThermalScanner.useEffect.restartTimeout\": ()=>{\n                    setResult(null);\n                    setIsCool(false);\n                    setTargetTemperature(0);\n                    setShowTemperature(false);\n                    setPhase(\"idle\");\n                    setThermalProgress(0);\n                    startCamera();\n                }\n            }[\"ThermalScanner.useEffect.restartTimeout\"], 5000);\n            return ({\n                \"ThermalScanner.useEffect\": ()=>clearTimeout(restartTimeout)\n            })[\"ThermalScanner.useEffect\"];\n        }\n    }[\"ThermalScanner.useEffect\"], [\n        phase\n    ]);\n    // MediaPipe FaceLandmarker setup\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"ThermalScanner.useEffect\": ()=>{\n            const createFaceLandmarker = {\n                \"ThermalScanner.useEffect.createFaceLandmarker\": async ()=>{\n                    try {\n                        const vision = await _mediapipe_tasks_vision__WEBPACK_IMPORTED_MODULE_2__.FilesetResolver.forVisionTasks(\"https://cdn.jsdelivr.net/npm/@mediapipe/tasks-vision@0.10.0/wasm\");\n                        const landmarker = await _mediapipe_tasks_vision__WEBPACK_IMPORTED_MODULE_2__.FaceLandmarker.createFromOptions(vision, {\n                            baseOptions: {\n                                modelAssetPath: \"./face_landmarker.task\",\n                                delegate: \"GPU\"\n                            },\n                            runningMode: \"VIDEO\",\n                            numFaces: 1,\n                            minFaceDetectionConfidence: 0.3,\n                            minFacePresenceConfidence: 0.3,\n                            minTrackingConfidence: 0.3\n                        });\n                        setFaceLandmarker(landmarker);\n                    } catch (error) {\n                        console.error(\"Error initializing face landmarker:\", error);\n                        alert(\"Failed to initialize face detection. Please ensure the model file is accessible.\");\n                    }\n                }\n            }[\"ThermalScanner.useEffect.createFaceLandmarker\"];\n            createFaceLandmarker();\n        }\n    }[\"ThermalScanner.useEffect\"], []);\n    const startCamera = async ()=>{\n        try {\n            if (streamRef.current) {\n                streamRef.current.getTracks().forEach((track)=>track.stop());\n            }\n            const stream = await navigator.mediaDevices.getUserMedia({\n                video: {\n                    facingMode: \"user\",\n                    width: {\n                        ideal: 1280\n                    },\n                    height: {\n                        ideal: 720\n                    }\n                }\n            });\n            streamRef.current = stream;\n            if (videoRef.current) {\n                videoRef.current.srcObject = stream;\n                videoRef.current.onloadedmetadata = ()=>{\n                    var _videoRef_current;\n                    (_videoRef_current = videoRef.current) === null || _videoRef_current === void 0 ? void 0 : _videoRef_current.play().catch((err)=>console.error(\"Error playing video:\", err));\n                    setIsCameraReady(true);\n                };\n            }\n        } catch (error) {\n            console.error(\"Error accessing camera:\", error);\n            alert(\"Could not access the camera. Please check permissions.\");\n        }\n    };\n    const stopCamera = ()=>{\n        if (streamRef.current) {\n            streamRef.current.getTracks().forEach((track)=>track.stop());\n            streamRef.current = null;\n        }\n        if (videoRef.current) {\n            videoRef.current.srcObject = null;\n        }\n        setIsCameraReady(false);\n    };\n    const handleCountdownComplete = ()=>{\n        setPhase(\"scanDown\");\n    };\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"ThermalScanner.useEffect\": ()=>{\n            startCamera();\n            return ({\n                \"ThermalScanner.useEffect\": ()=>stopCamera()\n            })[\"ThermalScanner.useEffect\"];\n        }\n    }[\"ThermalScanner.useEffect\"], []);\n    if (phase === \"result\" && result) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_ResultScreen__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n            message: result,\n            isCool: isCool\n        }, void 0, false, {\n            fileName: \"C:\\\\Users\\\\Acer\\\\Desktop\\\\thermal-scan\\\\thermal-scan\\\\src\\\\components\\\\ThermalScanner.tsx\",\n            lineNumber: 595,\n            columnNumber: 12\n        }, undefined);\n    }\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"scanner-container\",\n        children: [\n            phase === \"countdown\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(LottieCountdown, {\n                onComplete: handleCountdownComplete\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\Acer\\\\Desktop\\\\thermal-scan\\\\thermal-scan\\\\src\\\\components\\\\ThermalScanner.tsx\",\n                lineNumber: 600,\n                columnNumber: 33\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"camera-wrapper\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"canvas\", {\n                        ref: canvasRef,\n                        className: \"camera-canvas\"\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\Acer\\\\Desktop\\\\thermal-scan\\\\thermal-scan\\\\src\\\\components\\\\ThermalScanner.tsx\",\n                        lineNumber: 602,\n                        columnNumber: 9\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"video\", {\n                        ref: videoRef,\n                        autoPlay: true,\n                        playsInline: true,\n                        muted: true,\n                        style: {\n                            display: \"none\"\n                        }\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\Acer\\\\Desktop\\\\thermal-scan\\\\thermal-scan\\\\src\\\\components\\\\ThermalScanner.tsx\",\n                        lineNumber: 603,\n                        columnNumber: 9\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n                        src: \"./images/frame.png\",\n                        className: \"frame-overlay\",\n                        alt: \"Frame overlay\"\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\Acer\\\\Desktop\\\\thermal-scan\\\\thermal-scan\\\\src\\\\components\\\\ThermalScanner.tsx\",\n                        lineNumber: 604,\n                        columnNumber: 9\n                    }, undefined),\n                    !isCameraReady && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(StatusText, {\n                        children: \"Initializing Camera...\"\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\Acer\\\\Desktop\\\\thermal-scan\\\\thermal-scan\\\\src\\\\components\\\\ThermalScanner.tsx\",\n                        lineNumber: 606,\n                        columnNumber: 28\n                    }, undefined),\n                    isCameraReady && phase === \"idle\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(StatusText, {\n                        children: \"Please look at the camera.\"\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\Acer\\\\Desktop\\\\thermal-scan\\\\thermal-scan\\\\src\\\\components\\\\ThermalScanner.tsx\",\n                        lineNumber: 607,\n                        columnNumber: 47\n                    }, undefined),\n                    (phase === \"scanDown\" || phase === \"scanUp\") && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(ScanningLine, {\n                        direction: phase\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\Acer\\\\Desktop\\\\thermal-scan\\\\thermal-scan\\\\src\\\\components\\\\ThermalScanner.tsx\",\n                        lineNumber: 609,\n                        columnNumber: 58\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(AnimatedTemperatureDisplay, {\n                        targetTemp: targetTemperature,\n                        isVisible: showTemperature\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\Acer\\\\Desktop\\\\thermal-scan\\\\thermal-scan\\\\src\\\\components\\\\ThermalScanner.tsx\",\n                        lineNumber: 611,\n                        columnNumber: 9\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"C:\\\\Users\\\\Acer\\\\Desktop\\\\thermal-scan\\\\thermal-scan\\\\src\\\\components\\\\ThermalScanner.tsx\",\n                lineNumber: 601,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"style\", {\n                children: \"\\n        .scanner-container {\\n          position: relative;\\n          width: 100vw;\\n          height: 100vh;\\n          overflow: hidden;\\n          background: black;\\n        }\\n\\n        .camera-wrapper {\\n          position: relative;\\n          width: 100%;\\n          height: 100%;\\n          display: flex;\\n          justify-content: center;\\n          align-items: center;\\n        }\\n\\n        .camera-canvas {\\n          width: 100%;\\n          height: 100%;\\n          object-fit: cover;\\n          background: black;\\n        }\\n\\n        .frame-overlay {\\n          position: absolute;\\n          top: 50%;\\n          left: 50%;\\n          transform: translate(-50%, -50%);\\n          width: 100%;\\n          height: 100%;\\n          object-fit: cover;\\n          pointer-events: none;\\n          z-index: 25;\\n        }\\n      \"\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\Acer\\\\Desktop\\\\thermal-scan\\\\thermal-scan\\\\src\\\\components\\\\ThermalScanner.tsx\",\n                lineNumber: 614,\n                columnNumber: 7\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"C:\\\\Users\\\\Acer\\\\Desktop\\\\thermal-scan\\\\thermal-scan\\\\src\\\\components\\\\ThermalScanner.tsx\",\n        lineNumber: 599,\n        columnNumber: 5\n    }, undefined);\n};\n_s2(ThermalScanner, \"89e8VurPhe+LM4oDh8evKht4deE=\");\n_c2 = ThermalScanner;\nconst StatusText = (param)=>{\n    let { children } = param;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        style: {\n            position: \"absolute\",\n            inset: 0,\n            display: \"flex\",\n            alignItems: \"center\",\n            justifyContent: \"center\",\n            zIndex: 20,\n            pointerEvents: \"none\"\n        },\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n            style: {\n                color: \"white\",\n                fontSize: \"2.25rem\",\n                fontWeight: \"800\",\n                background: \"rgba(0,0,0,0.7)\",\n                padding: \"1rem 2rem\",\n                borderRadius: \"0.5rem\",\n                backdropFilter: \"blur(5px)\",\n                border: \"1px solid rgba(34,211,238,0.3)\"\n            },\n            children: children\n        }, void 0, false, {\n            fileName: \"C:\\\\Users\\\\Acer\\\\Desktop\\\\thermal-scan\\\\thermal-scan\\\\src\\\\components\\\\ThermalScanner.tsx\",\n            lineNumber: 667,\n            columnNumber: 5\n        }, undefined)\n    }, void 0, false, {\n        fileName: \"C:\\\\Users\\\\Acer\\\\Desktop\\\\thermal-scan\\\\thermal-scan\\\\src\\\\components\\\\ThermalScanner.tsx\",\n        lineNumber: 656,\n        columnNumber: 3\n    }, undefined);\n};\n_c3 = StatusText;\nconst ScanningLine = (param)=>{\n    let { direction } = param;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        style: {\n            position: \"absolute\",\n            left: 0,\n            right: 0,\n            height: \"4px\",\n            background: \"linear-gradient(90deg, transparent, #00ff88, #00ccff, #00ff88, transparent)\",\n            boxShadow: \"0 0 10px #00ff88, 0 0 20px #00ff88, 0 0 30px #00ff88\",\n            zIndex: 20,\n            animation: direction === \"scanDown\" ? \"scanDown 3s linear\" : \"scanUp 3s linear\"\n        },\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"style\", {\n            children: \"\\n        @keyframes scanDown {\\n          0% { top: 0%; }\\n          100% { top: 100%; }\\n        }\\n        @keyframes scanUp {\\n          0% { top: 100%; }\\n          100% { top: 0%; }\\n        }\\n      \"\n        }, void 0, false, {\n            fileName: \"C:\\\\Users\\\\Acer\\\\Desktop\\\\thermal-scan\\\\thermal-scan\\\\src\\\\components\\\\ThermalScanner.tsx\",\n            lineNumber: 698,\n            columnNumber: 7\n        }, undefined)\n    }, void 0, false, {\n        fileName: \"C:\\\\Users\\\\Acer\\\\Desktop\\\\thermal-scan\\\\thermal-scan\\\\src\\\\components\\\\ThermalScanner.tsx\",\n        lineNumber: 686,\n        columnNumber: 5\n    }, undefined);\n};\n_c4 = ScanningLine;\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ThermalScanner);\nvar _c, _c1, _c2, _c3, _c4;\n$RefreshReg$(_c, \"LottieCountdown\");\n$RefreshReg$(_c1, \"AnimatedTemperatureDisplay\");\n$RefreshReg$(_c2, \"ThermalScanner\");\n$RefreshReg$(_c3, \"StatusText\");\n$RefreshReg$(_c4, \"ScanningLine\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHBhZ2VzLWRpci1icm93c2VyKS8uL3NyYy9jb21wb25lbnRzL1RoZXJtYWxTY2FubmVyLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7QUFHbUQ7QUFDc0I7QUFDaEM7QUFLekMsb0VBQW9FO0FBQ3BFLE1BQU1NLDJCQUEyQjtJQUMvQixNQUFNQyxjQUEwQyxFQUFFO0lBQ2xELElBQUssSUFBSUMsSUFBSSxHQUFHQSxLQUFLLEtBQUtBLElBQUs7UUFDN0IsTUFBTUMsYUFBYUQsSUFBSTtRQUN2QixJQUFJQyxhQUFhLEtBQUs7WUFDcEIsTUFBTUMsSUFBSUQsYUFBYTtZQUN2QkYsV0FBVyxDQUFDQyxFQUFFLEdBQUc7Z0JBQUM7Z0JBQUdHLEtBQUtDLEtBQUssQ0FBQ0YsSUFBSTtnQkFBTTthQUFJO1FBQ2hELE9BQU8sSUFBSUQsYUFBYSxNQUFNO1lBQzVCLE1BQU1DLElBQUksQ0FBQ0QsYUFBYSxHQUFFLElBQUs7WUFDL0JGLFdBQVcsQ0FBQ0MsRUFBRSxHQUFHO2dCQUFDO2dCQUFHO2dCQUFLRyxLQUFLQyxLQUFLLENBQUMsTUFBTyxLQUFJRixDQUFBQTthQUFJO1FBQ3RELE9BQU8sSUFBSUQsYUFBYSxLQUFLO1lBQzNCLE1BQU1DLElBQUksQ0FBQ0QsYUFBYSxJQUFHLElBQUs7WUFDaENGLFdBQVcsQ0FBQ0MsRUFBRSxHQUFHO2dCQUFDRyxLQUFLQyxLQUFLLENBQUNGLElBQUk7Z0JBQU07Z0JBQUs7YUFBRTtRQUNoRCxPQUFPLElBQUlELGFBQWEsTUFBTTtZQUM1QixNQUFNQyxJQUFJLENBQUNELGFBQWEsR0FBRSxJQUFLO1lBQy9CRixXQUFXLENBQUNDLEVBQUUsR0FBRztnQkFBQztnQkFBS0csS0FBS0MsS0FBSyxDQUFDLE1BQU8sS0FBSUYsQ0FBQUE7Z0JBQUs7YUFBRTtRQUN0RCxPQUFPO1lBQ0wsTUFBTUEsSUFBSSxDQUFDRCxhQUFhLElBQUcsSUFBSztZQUNoQ0YsV0FBVyxDQUFDQyxFQUFFLEdBQUc7Z0JBQUM7Z0JBQUtHLEtBQUtDLEtBQUss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d0Q7TUFBQUE7QUF5Vk4sTUFBTTJILGFBQXNEO1FBQUMsRUFBRUcsUUFBUSxFQUFFO3lCQUN2RSw4REFBQ3ZMO1FBQ0NDLE9BQU87WUFDTEMsVUFBVTtZQUNWQyxPQUFPO1lBQ1BDLFNBQVM7WUFDVEUsWUFBWTtZQUNaRCxnQkFBZ0I7WUFDaEJFLFFBQVE7WUFDUmtDLGVBQWU7UUFDakI7a0JBRUEsNEVBQUMrSTtZQUNDdkwsT0FBTztnQkFDTHlDLE9BQU87Z0JBQ1BDLFVBQVU7Z0JBQ1ZDLFlBQVk7Z0JBQ1pwQyxZQUFZO2dCQUNaaUwsU0FBUztnQkFDVHJJLGNBQWM7Z0JBQ2QzQyxnQkFBZ0I7Z0JBQ2hCSyxRQUFRO1lBQ1Y7c0JBRUN5Szs7Ozs7Ozs7Ozs7O01BeEJESDtBQTZCTixNQUFNQyxlQUErRDtRQUFDLEVBQUVDLFNBQVMsRUFBRTtJQUNqRixxQkFDRSw4REFBQ3RMO1FBQ0NDLE9BQU87WUFDTEMsVUFBVTtZQUNWcUMsTUFBTTtZQUNObUosT0FBTztZQUNQN0ssUUFBUTtZQUNSTCxZQUFZO1lBQ1pnRCxXQUFXO1lBQ1hqRCxRQUFRO1lBQ1J3QyxXQUFXdUksY0FBYyxhQUFhLHVCQUF1QjtRQUMvRDtrQkFFQSw0RUFBQ3JMO3NCQUFROzs7Ozs7Ozs7OztBQVlmO01BMUJNb0w7QUE0Qk4saUVBQWU1SCxjQUFjQSxFQUFBIiwic291cmNlcyI6WyJDOlxcVXNlcnNcXEFjZXJcXERlc2t0b3BcXHRoZXJtYWwtc2NhblxcdGhlcm1hbC1zY2FuXFxzcmNcXGNvbXBvbmVudHNcXFRoZXJtYWxTY2FubmVyLnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBjbGllbnRcIlxyXG5cclxuaW1wb3J0IHR5cGUgUmVhY3QgZnJvbSBcInJlYWN0XCJcclxuaW1wb3J0IHsgdXNlRWZmZWN0LCB1c2VSZWYsIHVzZVN0YXRlIH0gZnJvbSBcInJlYWN0XCJcclxuaW1wb3J0IHsgRmFjZUxhbmRtYXJrZXIsIEZpbGVzZXRSZXNvbHZlciB9IGZyb20gXCJAbWVkaWFwaXBlL3Rhc2tzLXZpc2lvblwiXHJcbmltcG9ydCBSZXN1bHRTY3JlZW4gZnJvbSBcIi4vUmVzdWx0U2NyZWVuXCJcclxuXHJcbi8vIERlZmluZSBhIG1vcmUgZGV0YWlsZWQgc2V0IG9mIHBoYXNlcyBmb3IgdGhlIGFuaW1hdGlvbiBzZXF1ZW5jZVxyXG50eXBlIFBoYXNlID0gXCJpZGxlXCIgfCBcImNvdW50ZG93blwiIHwgXCJzY2FuRG93blwiIHwgXCJ0aGVybWFsSG9sZEFmdGVyRG93blwiIHwgXCJzY2FuVXBcIiB8IFwidGhlcm1hbEhvbGRBZnRlclVwXCIgfCBcInJlc3VsdFwiXHJcblxyXG4vLyBPcHRpbWl6ZWQgdGhlcm1hbCBjb2xvciBmdW5jdGlvbiB3aXRoIHByZS1jYWxjdWxhdGVkIGxvb2t1cCB0YWJsZVxyXG5jb25zdCBjcmVhdGVUaGVybWFsTG9va3VwVGFibGUgPSAoKSA9PiB7XHJcbiAgY29uc3QgbG9va3VwVGFibGU6IFtudW1iZXIsIG51bWJlciwgbnVtYmVyXVtdID0gW11cclxuICBmb3IgKGxldCBpID0gMDsgaSA8PSAyNTU7IGkrKykge1xyXG4gICAgY29uc3Qgbm9ybWFsaXplZCA9IGkgLyAyNTVcclxuICAgIGlmIChub3JtYWxpemVkIDwgMC4zKSB7XHJcbiAgICAgIGNvbnN0IHQgPSBub3JtYWxpemVkIC8gMC4zXHJcbiAgICAgIGxvb2t1cFRhYmxlW2ldID0gWzAsIE1hdGguZmxvb3IodCAqIDI1NSksIDI1NV1cclxuICAgIH0gZWxzZSBpZiAobm9ybWFsaXplZCA8IDAuMzUpIHtcclxuICAgICAgY29uc3QgdCA9IChub3JtYWxpemVkIC0gMC4zKSAvIDAuMDVcclxuICAgICAgbG9va3VwVGFibGVbaV0gPSBbMCwgMjU1LCBNYXRoLmZsb29yKDI1NSAqICgxIC0gdCkpXVxyXG4gICAgfSBlbHNlIGlmIChub3JtYWxpemVkIDwgMC41KSB7XHJcbiAgICAgIGNvbnN0IHQgPSAobm9ybWFsaXplZCAtIDAuMzUpIC8gMC4xNVxyXG4gICAgICBsb29rdXBUYWJsZVtpXSA9IFtNYXRoLmZsb29yKHQgKiAyNTUpLCAyNTUsIDBdXHJcbiAgICB9IGVsc2UgaWYgKG5vcm1hbGl6ZWQgPCAwLjc1KSB7XHJcbiAgICAgIGNvbnN0IHQgPSAobm9ybWFsaXplZCAtIDAuNSkgLyAwLjI1XHJcbiAgICAgIGxvb2t1cFRhYmxlW2ldID0gWzI1NSwgTWF0aC5mbG9vcigyNTUgKiAoMSAtIHQpKSwgMF1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGNvbnN0IHQgPSAobm9ybWFsaXplZCAtIDAuNzUpIC8gMC4yNVxyXG4gICAgICBsb29rdXBUYWJsZVtpXSA9IFsyNTUsIE1hdGguZmxvb3IodCAqIDE2NSksIDBdXHJcbiAgICB9XHJcbiAgfVxyXG4gIHJldHVybiBsb29rdXBUYWJsZVxyXG59XHJcblxyXG5jb25zdCB0aGVybWFsTG9va3VwVGFibGUgPSBjcmVhdGVUaGVybWFsTG9va3VwVGFibGUoKVxyXG5cclxuY29uc3QgQVNQRUNUX1JBVElPID0gOSAvIDE2XHJcbmNvbnN0IFdJRFRIID0gNzIwXHJcbmNvbnN0IEhFSUdIVCA9IE1hdGgucm91bmQoV0lEVEggLyBBU1BFQ1RfUkFUSU8pXHJcblxyXG4vLyBTaW1wbGUgTG90dGllIGNvbXBvbmVudCB1c2luZyBpZnJhbWVcclxuY29uc3QgTG90dGllQ291bnRkb3duOiBSZWFjdC5GQzx7IG9uQ29tcGxldGU6ICgpID0+IHZvaWQgfT4gPSAoeyBvbkNvbXBsZXRlIH0pID0+IHtcclxuICBjb25zdCBbaXNDb21wbGV0ZWQsIHNldElzQ29tcGxldGVkXSA9IHVzZVN0YXRlKGZhbHNlKVxyXG5cclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgLy8gTGlzdGVuIGZvciB0aGUgYW5pbWF0aW9uIGNvbXBsZXRpb25cclxuICAgIGNvbnN0IGhhbmRsZU1lc3NhZ2UgPSAoZXZlbnQ6IE1lc3NhZ2VFdmVudCkgPT4ge1xyXG4gICAgICBpZiAoZXZlbnQuZGF0YSA9PT0gXCJsb3R0aWUtY29tcGxldGVcIiAmJiAhaXNDb21wbGV0ZWQpIHtcclxuICAgICAgICBzZXRJc0NvbXBsZXRlZCh0cnVlKVxyXG4gICAgICAgIG9uQ29tcGxldGUoKVxyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJtZXNzYWdlXCIsIGhhbmRsZU1lc3NhZ2UpXHJcblxyXG4gICAgLy8gRmFsbGJhY2sgdGltZXIgaW4gY2FzZSB0aGUgZXZlbnQgZG9lc24ndCBmaXJlIC0gZ2l2ZSBpdCBtb3JlIHRpbWUgZm9yIGZ1bGwgY291bnRkb3duXHJcbiAgICBjb25zdCBmYWxsYmFja1RpbWVyID0gc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgIGlmICghaXNDb21wbGV0ZWQpIHtcclxuICAgICAgICBzZXRJc0NvbXBsZXRlZCh0cnVlKVxyXG4gICAgICAgIG9uQ29tcGxldGUoKVxyXG4gICAgICB9XHJcbiAgICB9LCA0MDAwKSAvLyBJbmNyZWFzZWQgdG8gNCBzZWNvbmRzIHRvIGVuc3VyZSBmdWxsIGNvdW50ZG93blxyXG5cclxuICAgIHJldHVybiAoKSA9PiB7XHJcbiAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwibWVzc2FnZVwiLCBoYW5kbGVNZXNzYWdlKVxyXG4gICAgICBjbGVhclRpbWVvdXQoZmFsbGJhY2tUaW1lcilcclxuICAgIH1cclxuICB9LCBbb25Db21wbGV0ZSwgaXNDb21wbGV0ZWRdKVxyXG5cclxuICByZXR1cm4gKFxyXG4gICAgPGRpdlxyXG4gICAgICBzdHlsZT17e1xyXG4gICAgICAgIHBvc2l0aW9uOiBcImFic29sdXRlXCIsXHJcbiAgICAgICAgaW5zZXQ6IDAsXHJcbiAgICAgICAgZGlzcGxheTogXCJmbGV4XCIsXHJcbiAgICAgICAganVzdGlmeUNvbnRlbnQ6IFwiY2VudGVyXCIsXHJcbiAgICAgICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIixcclxuICAgICAgICB6SW5kZXg6IDMwLFxyXG4gICAgICAgIGJhY2tncm91bmQ6IFwicmdiYSgwLCAwLCAwLCAwLjMpXCIsXHJcbiAgICAgICAgYmFja2Ryb3BGaWx0ZXI6IFwiYmx1cigycHgpXCIsXHJcbiAgICAgIH19XHJcbiAgICA+XHJcbiAgICAgIDxpZnJhbWVcclxuICAgICAgICBzcmM9XCJkYXRhOnRleHQvaHRtbDtjaGFyc2V0PXV0Zi04LCUzQ2h0bWwlM0UlM0NoZWFkJTNFJTNDc2NyaXB0IHNyYz0naHR0cHM6Ly91bnBrZy5jb20vQGxvdHRpZWZpbGVzL2RvdGxvdHRpZS13Y0AwLjYuMi9kaXN0L2RvdGxvdHRpZS13Yy5qcycgdHlwZT0nbW9kdWxlJyUzRSUzQy9zY3JpcHQlM0UlM0MvaGVhZCUzRSUzQ2JvZHkgc3R5bGU9J21hcmdpbjowO3BhZGRpbmc6MDtiYWNrZ3JvdW5kOnRyYW5zcGFyZW50O2Rpc3BsYXk6ZmxleDtqdXN0aWZ5LWNvbnRlbnQ6Y2VudGVyO2FsaWduLWl0ZW1zOmNlbnRlcjtoZWlnaHQ6MTAwdmg7JyUzRSUzQ2RvdGxvdHRpZS13YyBzcmM9J2h0dHBzOi8vbG90dGllLmhvc3QvZTUxMTM4OTEtYTc5ZS00Mzk1LWE2NTYtNzYzNzJiODE1ZTVjLzBrSkdYSDVzc0gubG90dGllJyBzdHlsZT0nd2lkdGg6IDEwMDBweDtoZWlnaHQ6IDEwMDBweCcgc3BlZWQ9JzEnIGF1dG9wbGF5JTNFJTNDL2RvdGxvdHRpZS13YyUzRSUzQy9ib2R5JTNFJTNDc2NyaXB0JTNFZG9jdW1lbnQucXVlcnlTZWxlY3RvcignZG90bG90dGllLXdjJykuYWRkRXZlbnRMaXN0ZW5lcignY29tcGxldGUnLCAoKSA9PiAlN0IgcGFyZW50LnBvc3RNZXNzYWdlKCdsb3R0aWUtY29tcGxldGUnLCAnKicpOyAlN0QpOyUzQy9zY3JpcHQlM0UlM0MvYm9keSUzRSUzQy9odG1sJTNFXCJcclxuICAgICAgICBzdHlsZT17e1xyXG4gICAgICAgICAgd2lkdGg6IFwiMTAwMHB4XCIsXHJcbiAgICAgICAgICBoZWlnaHQ6IFwiMTAwMHB4XCIsXHJcbiAgICAgICAgICBib3JkZXI6IFwibm9uZVwiLFxyXG4gICAgICAgICAgYmFja2dyb3VuZDogXCJ0cmFuc3BhcmVudFwiLFxyXG4gICAgICAgIH19XHJcbiAgICAgICAgdGl0bGU9XCJDb3VudGRvd24gQW5pbWF0aW9uXCJcclxuICAgICAgLz5cclxuICAgIDwvZGl2PlxyXG4gIClcclxufVxyXG5cclxuLy8gRW5oYW5jZWQgQW5pbWF0ZWQgVGVtcGVyYXR1cmUgRGlzcGxheSBDb21wb25lbnQgd2l0aCBtdWx0aXBsZSBhbmltYXRpb25zXHJcbmNvbnN0IEFuaW1hdGVkVGVtcGVyYXR1cmVEaXNwbGF5OiBSZWFjdC5GQzx7IHRhcmdldFRlbXA6IG51bWJlcjsgaXNWaXNpYmxlOiBib29sZWFuIH0+ID0gKHtcclxuICB0YXJnZXRUZW1wLFxyXG4gIGlzVmlzaWJsZSxcclxufSkgPT4ge1xyXG4gIGNvbnN0IFtjdXJyZW50VGVtcCwgc2V0Q3VycmVudFRlbXBdID0gdXNlU3RhdGUoMTApXHJcbiAgY29uc3QgW2lzQW5pbWF0aW9uQ29tcGxldGUsIHNldElzQW5pbWF0aW9uQ29tcGxldGVdID0gdXNlU3RhdGUoZmFsc2UpXHJcbiAgY29uc3QgYW5pbWF0aW9uUmVmID0gdXNlUmVmPG51bWJlcj4oKVxyXG4gIGNvbnN0IHN0YXJ0VGltZVJlZiA9IHVzZVJlZjxudW1iZXI+KClcclxuXHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIGlmICghaXNWaXNpYmxlKSB7XHJcbiAgICAgIHNldEN1cnJlbnRUZW1wKDEwKVxyXG4gICAgICBzZXRJc0FuaW1hdGlvbkNvbXBsZXRlKGZhbHNlKVxyXG4gICAgICByZXR1cm5cclxuICAgIH1cclxuXHJcbiAgICBzdGFydFRpbWVSZWYuY3VycmVudCA9IERhdGUubm93KClcclxuXHJcbiAgICBjb25zdCBhbmltYXRlID0gKCkgPT4ge1xyXG4gICAgICBjb25zdCBlbGFwc2VkID0gRGF0ZS5ub3coKSAtIChzdGFydFRpbWVSZWYuY3VycmVudCB8fCAwKVxyXG4gICAgICBjb25zdCBkdXJhdGlvbiA9IDIwMDAgLy8gMiBzZWNvbmRzIHRvdGFsIGFuaW1hdGlvblxyXG5cclxuICAgICAgaWYgKGVsYXBzZWQgPj0gZHVyYXRpb24pIHtcclxuICAgICAgICBzZXRDdXJyZW50VGVtcCh0YXJnZXRUZW1wKVxyXG4gICAgICAgIHNldElzQW5pbWF0aW9uQ29tcGxldGUodHJ1ZSlcclxuICAgICAgICByZXR1cm5cclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gRWFzaW5nIGZ1bmN0aW9uIHRoYXQgc2xvd3MgZG93biBuZWFyIHRoZSB0YXJnZXRcclxuICAgICAgY29uc3QgcHJvZ3Jlc3MgPSBlbGFwc2VkIC8gZHVyYXRpb25cclxuICAgICAgY29uc3QgZWFzZU91dFF1YXJ0ID0gMSAtIE1hdGgucG93KDEgLSBwcm9ncmVzcywgNClcclxuXHJcbiAgICAgIC8vIENhbGN1bGF0ZSBjdXJyZW50IHRlbXBlcmF0dXJlIHdpdGggZWFzaW5nXHJcbiAgICAgIGNvbnN0IHRlbXBSYW5nZSA9IHRhcmdldFRlbXAgLSAxMFxyXG4gICAgICBjb25zdCBuZXdUZW1wID0gMTAgKyB0ZW1wUmFuZ2UgKiBlYXNlT3V0UXVhcnRcclxuXHJcbiAgICAgIHNldEN1cnJlbnRUZW1wKE1hdGgucm91bmQobmV3VGVtcCAqIDEwKSAvIDEwKSAvLyBSb3VuZCB0byAxIGRlY2ltYWwgcGxhY2VcclxuXHJcbiAgICAgIGFuaW1hdGlvblJlZi5jdXJyZW50ID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGFuaW1hdGUpXHJcbiAgICB9XHJcblxyXG4gICAgYW5pbWF0aW9uUmVmLmN1cnJlbnQgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoYW5pbWF0ZSlcclxuXHJcbiAgICByZXR1cm4gKCkgPT4ge1xyXG4gICAgICBpZiAoYW5pbWF0aW9uUmVmLmN1cnJlbnQpIHtcclxuICAgICAgICBjYW5jZWxBbmltYXRpb25GcmFtZShhbmltYXRpb25SZWYuY3VycmVudClcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH0sIFt0YXJnZXRUZW1wLCBpc1Zpc2libGVdKVxyXG5cclxuICBpZiAoIWlzVmlzaWJsZSkgcmV0dXJuIG51bGxcclxuXHJcbiAgcmV0dXJuIChcclxuICAgIDxkaXZcclxuICAgICAgc3R5bGU9e3tcclxuICAgICAgICBwb3NpdGlvbjogXCJhYnNvbHV0ZVwiLFxyXG4gICAgICAgIGJvdHRvbTogXCIxMCVcIixcclxuICAgICAgICBsZWZ0OiBcIjUwJVwiLFxyXG4gICAgICAgIHRyYW5zZm9ybTogXCJ0cmFuc2xhdGVYKC01MCUpXCIsXHJcbiAgICAgICAgekluZGV4OiAyMCxcclxuICAgICAgICBwb2ludGVyRXZlbnRzOiBcIm5vbmVcIixcclxuICAgICAgICBjb2xvcjogXCIjZmZmZmZmXCIsXHJcbiAgICAgICAgZm9udFNpemU6IFwiNnJlbVwiLFxyXG4gICAgICAgIGZvbnRXZWlnaHQ6IDkwMCxcclxuICAgICAgICBmb250RmFtaWx5OiAnXCJPcmJpdHJvblwiLCBcIkNvdXJpZXIgTmV3XCIsIG1vbm9zcGFjZScsXHJcbiAgICAgICAgdGV4dFNoYWRvdzogXCIwIDAgMjBweCByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuOSksIDAgMCA0MHB4ICMwMGZmODgsIDAgMCA2MHB4ICMwMGZmODgsIDAgMCA4MHB4ICMwMGZmODhcIixcclxuICAgICAgICBhbmltYXRpb246IGlzQW5pbWF0aW9uQ29tcGxldGVcclxuICAgICAgICAgID8gXCJ0ZW1wZXJhdHVyZUZpbmFsR2xvdyAxLjVzIGVhc2UtaW4tb3V0IGluZmluaXRlIGFsdGVybmF0ZSwgdGVtcGVyYXR1cmVGbG9hdCAzcyBlYXNlLWluLW91dCBpbmZpbml0ZVwiXHJcbiAgICAgICAgICA6IFwidGVtcGVyYXR1cmVDb3VudGluZ0dsb3cgMC4zcyBlYXNlLWluLW91dCBpbmZpbml0ZSBhbHRlcm5hdGUsIHRlbXBlcmF0dXJlU2NhbGUgMC4xcyBlYXNlLWluLW91dCBpbmZpbml0ZSBhbHRlcm5hdGVcIixcclxuICAgICAgICBmaWx0ZXI6IFwiZHJvcC1zaGFkb3coMCAwIDMwcHggIzAwZmY4OClcIixcclxuICAgICAgfX1cclxuICAgID5cclxuICAgICAgPHNwYW5cclxuICAgICAgICBzdHlsZT17e1xyXG4gICAgICAgICAgZGlzcGxheTogXCJpbmxpbmUtYmxvY2tcIixcclxuICAgICAgICAgIGFuaW1hdGlvbjogIWlzQW5pbWF0aW9uQ29tcGxldGUgPyBcInRlbXBlcmF0dXJlRGlnaXRGbGlja2VyIDAuMnMgZWFzZS1pbi1vdXQgaW5maW5pdGVcIiA6IFwibm9uZVwiLFxyXG4gICAgICAgIH19XHJcbiAgICAgID5cclxuICAgICAgICB7Y3VycmVudFRlbXAudG9GaXhlZCgxKX3CsFxyXG4gICAgICA8L3NwYW4+XHJcblxyXG4gICAgICB7LyogQW5pbWF0ZWQgYmFja2dyb3VuZCBnbG93ICovfVxyXG4gICAgICA8ZGl2XHJcbiAgICAgICAgc3R5bGU9e3tcclxuICAgICAgICAgIHBvc2l0aW9uOiBcImFic29sdXRlXCIsXHJcbiAgICAgICAgICB0b3A6IFwiNTAlXCIsXHJcbiAgICAgICAgICBsZWZ0OiBcIjUwJVwiLFxyXG4gICAgICAgICAgdHJhbnNmb3JtOiBcInRyYW5zbGF0ZSgtNTAlLCAtNTAlKVwiLFxyXG4gICAgICAgICAgd2lkdGg6IFwiMTIwJVwiLFxyXG4gICAgICAgICAgaGVpZ2h0OiBcIjEyMCVcIixcclxuICAgICAgICAgIGJhY2tncm91bmQ6IFwicmFkaWFsLWdyYWRpZW50KGNpcmNsZSwgcmdiYSgwLCAyNTUsIDEzNiwgMC4zKSAwJSwgcmdiYSgwLCAyNTUsIDEzNiwgMC4xKSA1MCUsIHRyYW5zcGFyZW50IDcwJSlcIixcclxuICAgICAgICAgIGJvcmRlclJhZGl1czogXCI1MCVcIixcclxuICAgICAgICAgIGFuaW1hdGlvbjogXCJ0ZW1wZXJhdHVyZUJhY2tncm91bmRQdWxzZSAycyBlYXNlLWluLW91dCBpbmZpbml0ZVwiLFxyXG4gICAgICAgICAgekluZGV4OiAtMSxcclxuICAgICAgICB9fVxyXG4gICAgICAvPlxyXG5cclxuICAgICAgey8qIFBhcnRpY2xlIGVmZmVjdHMgKi99XHJcbiAgICAgIDxkaXZcclxuICAgICAgICBzdHlsZT17e1xyXG4gICAgICAgICAgcG9zaXRpb246IFwiYWJzb2x1dGVcIixcclxuICAgICAgICAgIHRvcDogXCI1MCVcIixcclxuICAgICAgICAgIGxlZnQ6IFwiNTAlXCIsXHJcbiAgICAgICAgICB0cmFuc2Zvcm06IFwidHJhbnNsYXRlKC01MCUsIC01MCUpXCIsXHJcbiAgICAgICAgICB3aWR0aDogXCIyMDAlXCIsXHJcbiAgICAgICAgICBoZWlnaHQ6IFwiMjAwJVwiLFxyXG4gICAgICAgICAgcG9pbnRlckV2ZW50czogXCJub25lXCIsXHJcbiAgICAgICAgICB6SW5kZXg6IC0xLFxyXG4gICAgICAgIH19XHJcbiAgICAgID5cclxuICAgICAgICB7Wy4uLkFycmF5KDYpXS5tYXAoKF8sIGkpID0+IChcclxuICAgICAgICAgIDxkaXZcclxuICAgICAgICAgICAga2V5PXtpfVxyXG4gICAgICAgICAgICBzdHlsZT17e1xyXG4gICAgICAgICAgICAgIHBvc2l0aW9uOiBcImFic29sdXRlXCIsXHJcbiAgICAgICAgICAgICAgd2lkdGg6IFwiNHB4XCIsXHJcbiAgICAgICAgICAgICAgaGVpZ2h0OiBcIjRweFwiLFxyXG4gICAgICAgICAgICAgIGJhY2tncm91bmQ6IFwiIzAwZmY4OFwiLFxyXG4gICAgICAgICAgICAgIGJvcmRlclJhZGl1czogXCI1MCVcIixcclxuICAgICAgICAgICAgICB0b3A6IGAkezIwICsgaSAqIDEwfSVgLFxyXG4gICAgICAgICAgICAgIGxlZnQ6IGAkezMwICsgaSAqIDh9JWAsXHJcbiAgICAgICAgICAgICAgYW5pbWF0aW9uOiBgdGVtcGVyYXR1cmVQYXJ0aWNsZSR7aX0gJHsyICsgaSAqIDAuM31zIGVhc2UtaW4tb3V0IGluZmluaXRlYCxcclxuICAgICAgICAgICAgICBib3hTaGFkb3c6IFwiMCAwIDEwcHggIzAwZmY4OFwiLFxyXG4gICAgICAgICAgICB9fVxyXG4gICAgICAgICAgLz5cclxuICAgICAgICApKX1cclxuICAgICAgPC9kaXY+XHJcblxyXG4gICAgICA8c3R5bGU+e2BcclxuICAgICAgICBAaW1wb3J0IHVybCgnaHR0cHM6Ly9mb250cy5nb29nbGVhcGlzLmNvbS9jc3MyP2ZhbWlseT1PcmJpdHJvbjp3Z2h0QDQwMDs3MDA7OTAwJmRpc3BsYXk9c3dhcCcpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIEBrZXlmcmFtZXMgdGVtcGVyYXR1cmVDb3VudGluZ0dsb3cge1xyXG4gICAgICAgICAgMCUgeyBcclxuICAgICAgICAgICAgdGV4dFNoYWRvdzogMCAwIDE1cHggcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjgpLCAwIDAgMzBweCAjMDBmZjg4LCAwIDAgNDVweCAjMDBmZjg4LCAwIDAgNjBweCAjMDBmZjg4O1xyXG4gICAgICAgICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVgoLTUwJSkgc2NhbGUoMSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICAxMDAlIHsgXHJcbiAgICAgICAgICAgIHRleHRTaGFkb3c6IDAgMCAyNXB4IHJnYmEoMjU1LCAyNTUsIDI1NSwgMSksIDAgMCA1MHB4ICMwMGZmODgsIDAgMCA3NXB4ICMwMGZmODgsIDAgMCAxMDBweCAjMDBmZjg4O1xyXG4gICAgICAgICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVgoLTUwJSkgc2NhbGUoMS4wNSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIEBrZXlmcmFtZXMgdGVtcGVyYXR1cmVGaW5hbEdsb3cge1xyXG4gICAgICAgICAgMCUgeyBcclxuICAgICAgICAgICAgdGV4dFNoYWRvdzogMCAwIDIwcHggcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjkpLCAwIDAgNDBweCAjMDBmZjg4LCAwIDAgNjBweCAjMDBmZjg4LCAwIDAgODBweCAjMDBmZjg4O1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgMTAwJSB7IFxyXG4gICAgICAgICAgICB0ZXh0U2hhZG93OiAwIDAgMzBweCByZ2JhKDI1NSwgMjU1LCAyNTUsIDEpLCAwIDAgNjBweCAjMDBmZjg4LCAwIDAgOTBweCAjMDBmZjg4LCAwIDAgMTIwcHggIzAwZmY4ODtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgQGtleWZyYW1lcyB0ZW1wZXJhdHVyZVNjYWxlIHtcclxuICAgICAgICAgIDAlIHsgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKC01MCUpIHNjYWxlKDEpOyB9XHJcbiAgICAgICAgICAxMDAlIHsgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKC01MCUpIHNjYWxlKDEuMDIpOyB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIEBrZXlmcmFtZXMgdGVtcGVyYXR1cmVGbG9hdCB7XHJcbiAgICAgICAgICAwJSwgMTAwJSB7IHRyYW5zZm9ybTogdHJhbnNsYXRlWCgtNTAlKSB0cmFuc2xhdGVZKDBweCk7IH1cclxuICAgICAgICAgIDUwJSB7IHRyYW5zZm9ybTogdHJhbnNsYXRlWCgtNTAlKSB0cmFuc2xhdGVZKC0xMHB4KTsgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICBAa2V5ZnJhbWVzIHRlbXBlcmF0dXJlRGlnaXRGbGlja2VyIHtcclxuICAgICAgICAgIDAlLCAxMDAlIHsgb3BhY2l0eTogMTsgfVxyXG4gICAgICAgICAgNTAlIHsgb3BhY2l0eTogMC44OyB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIEBrZXlmcmFtZXMgdGVtcGVyYXR1cmVCYWNrZ3JvdW5kUHVsc2Uge1xyXG4gICAgICAgICAgMCUsIDEwMCUgeyBcclxuICAgICAgICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGUoLTUwJSwgLTUwJSkgc2NhbGUoMSk7XHJcbiAgICAgICAgICAgIG9wYWNpdHk6IDAuMztcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIDUwJSB7IFxyXG4gICAgICAgICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZSgtNTAlLCAtNTAlKSBzY2FsZSgxLjIpO1xyXG4gICAgICAgICAgICBvcGFjaXR5OiAwLjE7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIEBrZXlmcmFtZXMgdGVtcGVyYXR1cmVQYXJ0aWNsZTAge1xyXG4gICAgICAgICAgMCUsIDEwMCUgeyB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoMHB4KSByb3RhdGUoMGRlZyk7IG9wYWNpdHk6IDAuODsgfVxyXG4gICAgICAgICAgNTAlIHsgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC0yMHB4KSByb3RhdGUoMTgwZGVnKTsgb3BhY2l0eTogMC4zOyB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIEBrZXlmcmFtZXMgdGVtcGVyYXR1cmVQYXJ0aWNsZTEge1xyXG4gICAgICAgICAgMCUsIDEwMCUgeyB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoMHB4KSByb3RhdGUoMGRlZyk7IG9wYWNpdHk6IDAuNjsgfVxyXG4gICAgICAgICAgNTAlIHsgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC0xNXB4KSByb3RhdGUoLTE4MGRlZyk7IG9wYWNpdHk6IDAuMjsgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICBAa2V5ZnJhbWVzIHRlbXBlcmF0dXJlUGFydGljbGUyIHtcclxuICAgICAgICAgIDAlLCAxMDAlIHsgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKDBweCkgcm90YXRlKDBkZWcpOyBvcGFjaXR5OiAwLjc7IH1cclxuICAgICAgICAgIDUwJSB7IHRyYW5zZm9ybTogdHJhbnNsYXRlWSgtMjVweCkgcm90YXRlKDkwZGVnKTsgb3BhY2l0eTogMC40OyB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIEBrZXlmcmFtZXMgdGVtcGVyYXR1cmVQYXJ0aWNsZTMge1xyXG4gICAgICAgICAgMCUsIDEwMCUgeyB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoMHB4KSByb3RhdGUoMGRlZyk7IG9wYWNpdHk6IDAuNTsgfVxyXG4gICAgICAgICAgNTAlIHsgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC0xOHB4KSByb3RhdGUoLTkwZGVnKTsgb3BhY2l0eTogMC4xOyB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIEBrZXlmcmFtZXMgdGVtcGVyYXR1cmVQYXJ0aWNsZTQge1xyXG4gICAgICAgICAgMCUsIDEwMCUgeyB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoMHB4KSByb3RhdGUoMGRlZyk7IG9wYWNpdHk6IDAuODsgfVxyXG4gICAgICAgICAgNTAlIHsgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC0yMnB4KSByb3RhdGUoMjcwZGVnKTsgb3BhY2l0eTogMC4zOyB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIEBrZXlmcmFtZXMgdGVtcGVyYXR1cmVQYXJ0aWNsZTUge1xyXG4gICAgICAgICAgMCUsIDEwMCUgeyB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoMHB4KSByb3RhdGUoMGRlZyk7IG9wYWNpdHk6IDAuNjsgfVxyXG4gICAgICAgICAgNTAlIHsgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC0xNnB4KSByb3RhdGUoLTI3MGRlZyk7IG9wYWNpdHk6IDAuMjsgfVxyXG4gICAgICAgIH1cclxuICAgICAgYH08L3N0eWxlPlxyXG4gICAgPC9kaXY+XHJcbiAgKVxyXG59XHJcblxyXG5jb25zdCBUaGVybWFsU2Nhbm5lcjogUmVhY3QuRkMgPSAoKSA9PiB7XHJcbiAgY29uc3QgdmlkZW9SZWYgPSB1c2VSZWY8SFRNTFZpZGVvRWxlbWVudD4obnVsbClcclxuICBjb25zdCBjYW52YXNSZWYgPSB1c2VSZWY8SFRNTENhbnZhc0VsZW1lbnQ+KG51bGwpXHJcbiAgY29uc3Qgc3RyZWFtUmVmID0gdXNlUmVmPE1lZGlhU3RyZWFtIHwgbnVsbD4obnVsbClcclxuICBjb25zdCBbcGhhc2UsIHNldFBoYXNlXSA9IHVzZVN0YXRlPFBoYXNlPihcImlkbGVcIilcclxuICBjb25zdCBbcmVzdWx0LCBzZXRSZXN1bHRdID0gdXNlU3RhdGU8c3RyaW5nIHwgbnVsbD4obnVsbClcclxuICBjb25zdCBbaXNDb29sLCBzZXRJc0Nvb2xdID0gdXNlU3RhdGU8Ym9vbGVhbj4oZmFsc2UpXHJcbiAgY29uc3QgW2ZhY2VMYW5kbWFya2VyLCBzZXRGYWNlTGFuZG1hcmtlcl0gPSB1c2VTdGF0ZTxGYWNlTGFuZG1hcmtlciB8IG51bGw+KG51bGwpXHJcbiAgY29uc3QgW2lzQ2FtZXJhUmVhZHksIHNldElzQ2FtZXJhUmVhZHldID0gdXNlU3RhdGUoZmFsc2UpXHJcbiAgY29uc3QgW3RoZXJtYWxQcm9ncmVzcywgc2V0VGhlcm1hbFByb2dyZXNzXSA9IHVzZVN0YXRlPG51bWJlcj4oMClcclxuICBjb25zdCBbdGFyZ2V0VGVtcGVyYXR1cmUsIHNldFRhcmdldFRlbXBlcmF0dXJlXSA9IHVzZVN0YXRlPG51bWJlcj4oMClcclxuICBjb25zdCBbc2hvd1RlbXBlcmF0dXJlLCBzZXRTaG93VGVtcGVyYXR1cmVdID0gdXNlU3RhdGUoZmFsc2UpXHJcbiAgY29uc3QgYW5pbWF0aW9uRnJhbWVJZCA9IHVzZVJlZjxudW1iZXIgfCB1bmRlZmluZWQ+KHVuZGVmaW5lZClcclxuICBjb25zdCBwaGFzZVN0YXJ0VGltZSA9IHVzZVJlZjxudW1iZXI+KDApXHJcblxyXG4gIC8vIFBlcmZvcm1hbmNlIG9wdGltaXphdGlvbjogZnJhbWUgc2tpcHBpbmcgZm9yIHRoZXJtYWwgZWZmZWN0XHJcbiAgY29uc3QgZnJhbWVTa2lwQ291bnRlciA9IHVzZVJlZjxudW1iZXI+KDApXHJcbiAgY29uc3QgVEhFUk1BTF9GUkFNRV9TS0lQID0gMiAvLyBBcHBseSB0aGVybWFsIGVmZmVjdCBldmVyeSAzcmQgZnJhbWVcclxuXHJcbiAgLy8gVGhpcyBjZW50cmFsIHVzZUVmZmVjdCBob29rIG1hbmFnZXMgYWxsIHBoYXNlIHRyYW5zaXRpb25zIHdpdGggdGltZW91dHNcclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgcGhhc2VTdGFydFRpbWUuY3VycmVudCA9IERhdGUubm93KClcclxuXHJcbiAgICBpZiAocGhhc2UgPT09IFwic2NhbkRvd25cIikge1xyXG4gICAgICBjb25zdCB0aW1lciA9IHNldFRpbWVvdXQoKCkgPT4gc2V0UGhhc2UoXCJ0aGVybWFsSG9sZEFmdGVyRG93blwiKSwgMzAwMClcclxuICAgICAgcmV0dXJuICgpID0+IGNsZWFyVGltZW91dCh0aW1lcilcclxuICAgIH1cclxuICAgIGlmIChwaGFzZSA9PT0gXCJ0aGVybWFsSG9sZEFmdGVyRG93blwiKSB7XHJcbiAgICAgIGNvbnN0IHRpbWVyID0gc2V0VGltZW91dCgoKSA9PiBzZXRQaGFzZShcInNjYW5VcFwiKSwgMzAwMClcclxuICAgICAgcmV0dXJuICgpID0+IGNsZWFyVGltZW91dCh0aW1lcilcclxuICAgIH1cclxuICAgIGlmIChwaGFzZSA9PT0gXCJzY2FuVXBcIikge1xyXG4gICAgICBjb25zdCB0aW1lciA9IHNldFRpbWVvdXQoKCkgPT4gc2V0UGhhc2UoXCJ0aGVybWFsSG9sZEFmdGVyVXBcIiksIDMwMDApXHJcbiAgICAgIHJldHVybiAoKSA9PiBjbGVhclRpbWVvdXQodGltZXIpXHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHBoYXNlID09PSBcInRoZXJtYWxIb2xkQWZ0ZXJVcFwiKSB7XHJcbiAgICAgIC8vIERlY2lkZSB0aGUgb3V0Y29tZSBhdCB0aGUgYmVnaW5uaW5nIG9mIHRoaXMgcGhhc2VcclxuICAgICAgY29uc3QgY29vbCA9IE1hdGgucmFuZG9tKCkgPCAwLjlcclxuICAgICAgc2V0SXNDb29sKGNvb2wpXHJcbiAgICAgIHNldFJlc3VsdChjb29sID8gXCJDb29sIHZpYmVzIGRldGVjdGVkLiBDb21lIG9uIGluIVwiIDogXCJXaG9hLCB5b3UncmUgb24gZmlyZSDigJQgY29vbCBkb3duIGFuZCB0cnkgYWdhaW4hXCIpXHJcblxyXG4gICAgICAvLyBTZXQgdGFyZ2V0IHRlbXBlcmF0dXJlIGFuZCBzaG93IGl0IGFmdGVyIDEgc2Vjb25kXHJcbiAgICAgIGNvbnN0IHRlbXBUaW1lciA9IHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IHRlbXBWYWx1ZSA9IGNvb2xcclxuICAgICAgICAgID8gTWF0aC5yYW5kb20oKSAqIDEwICsgODAgLy8gODAuMCB0byA5MC4wXHJcbiAgICAgICAgICA6IE1hdGgucmFuZG9tKCkgKiAxMCArIDkwIC8vIDkwLjAgdG8gMTAwLjBcclxuICAgICAgICBzZXRUYXJnZXRUZW1wZXJhdHVyZSh0ZW1wVmFsdWUpXHJcbiAgICAgICAgc2V0U2hvd1RlbXBlcmF0dXJlKHRydWUpXHJcbiAgICAgIH0sIDEwMDApIC8vIDEtc2Vjb25kIGRlbGF5XHJcblxyXG4gICAgICAvLyBIb2xkIHRoaXMgcGhhc2UgZm9yIDUgc2Vjb25kcyBiZWZvcmUgbW92aW5nIHRvIHRoZSByZXN1bHRcclxuICAgICAgLy8gKDEgc2Vjb25kIGRlbGF5ICsgMiBzZWNvbmRzIGFuaW1hdGlvbiArIDIgc2Vjb25kcyBkaXNwbGF5ID0gNSBzZWNvbmRzIHRvdGFsKVxyXG4gICAgICBjb25zdCBwaGFzZVRpbWVyID0gc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgc2V0UGhhc2UoXCJyZXN1bHRcIilcclxuICAgICAgICBzdG9wQ2FtZXJhKClcclxuICAgICAgfSwgNTAwMCkgLy8gQ2hhbmdlZCBmcm9tIDMwMDAgdG8gNTAwMFxyXG5cclxuICAgICAgLy8gRW5zdXJlIGJvdGggdGltZXJzIGFyZSBjbGVhcmVkIG9uIGNsZWFudXBcclxuICAgICAgcmV0dXJuICgpID0+IHtcclxuICAgICAgICBjbGVhclRpbWVvdXQodGVtcFRpbWVyKVxyXG4gICAgICAgIGNsZWFyVGltZW91dChwaGFzZVRpbWVyKVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfSwgW3BoYXNlXSlcclxuXHJcbiAgLy8gT3B0aW1pemVkIHRoZXJtYWwgZWZmZWN0IHByb2Nlc3NpbmdcclxuICBjb25zdCBhcHBseVRoZXJtYWxFZmZlY3QgPSAoY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsIHdpZHRoOiBudW1iZXIsIGhlaWdodDogbnVtYmVyLCBwcm9ncmVzczogbnVtYmVyKSA9PiB7XHJcbiAgICAvLyBSZWR1Y2UgcHJvY2Vzc2luZyByZXNvbHV0aW9uIGZvciBiZXR0ZXIgcGVyZm9ybWFuY2VcclxuICAgIGNvbnN0IHNjYWxlRmFjdG9yID0gMC41IC8vIFByb2Nlc3MgYXQgaGFsZiByZXNvbHV0aW9uXHJcbiAgICBjb25zdCBwcm9jZXNzV2lkdGggPSBNYXRoLmZsb29yKHdpZHRoICogc2NhbGVGYWN0b3IpXHJcbiAgICBjb25zdCBwcm9jZXNzSGVpZ2h0ID0gTWF0aC5mbG9vcihoZWlnaHQgKiBzY2FsZUZhY3RvcilcclxuXHJcbiAgICAvLyBDcmVhdGUgYSBzbWFsbGVyIGNhbnZhcyBmb3IgcHJvY2Vzc2luZ1xyXG4gICAgY29uc3QgdGVtcENhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIilcclxuICAgIHRlbXBDYW52YXMud2lkdGggPSBwcm9jZXNzV2lkdGhcclxuICAgIHRlbXBDYW52YXMuaGVpZ2h0ID0gcHJvY2Vzc0hlaWdodFxyXG4gICAgY29uc3QgdGVtcEN0eCA9IHRlbXBDYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpIVxyXG5cclxuICAgIC8vIERyYXcgc2NhbGVkIGRvd24gdmVyc2lvblxyXG4gICAgdGVtcEN0eC5kcmF3SW1hZ2UoY3R4LmNhbnZhcywgMCwgMCwgcHJvY2Vzc1dpZHRoLCBwcm9jZXNzSGVpZ2h0KVxyXG5cclxuICAgIGNvbnN0IGltYWdlRGF0YSA9IHRlbXBDdHguZ2V0SW1hZ2VEYXRhKDAsIDAsIHByb2Nlc3NXaWR0aCwgcHJvY2Vzc0hlaWdodClcclxuICAgIGNvbnN0IGRhdGEgPSBpbWFnZURhdGEuZGF0YVxyXG5cclxuICAgIC8vIE9wdGltaXplZCBwaXhlbCBwcm9jZXNzaW5nIHdpdGggbG9va3VwIHRhYmxlXHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGRhdGEubGVuZ3RoOyBpICs9IDQpIHtcclxuICAgICAgY29uc3QgZ3JheSA9IE1hdGguZmxvb3IoMC4yOTkgKiBkYXRhW2ldICsgMC41ODcgKiBkYXRhW2kgKyAxXSArIDAuMTE0ICogZGF0YVtpICsgMl0pXHJcbiAgICAgIGNvbnN0IFt0aGVybWFsUiwgdGhlcm1hbEcsIHRoZXJtYWxCXSA9IHRoZXJtYWxMb29rdXBUYWJsZVtncmF5XVxyXG5cclxuICAgICAgLy8gVXNlIGJpdHdpc2Ugb3BlcmF0aW9ucyBmb3IgYmV0dGVyIHBlcmZvcm1hbmNlXHJcbiAgICAgIGRhdGFbaV0gPSAoZGF0YVtpXSAqICgxIC0gcHJvZ3Jlc3MpICsgdGhlcm1hbFIgKiBwcm9ncmVzcykgfCAwXHJcbiAgICAgIGRhdGFbaSArIDFdID0gKGRhdGFbaSArIDFdICogKDEgLSBwcm9ncmVzcykgKyB0aGVybWFsRyAqIHByb2dyZXNzKSB8IDBcclxuICAgICAgZGF0YVtpICsgMl0gPSAoZGF0YVtpICsgMl0gKiAoMSAtIHByb2dyZXNzKSArIHRoZXJtYWxCICogcHJvZ3Jlc3MpIHwgMFxyXG4gICAgfVxyXG5cclxuICAgIHRlbXBDdHgucHV0SW1hZ2VEYXRhKGltYWdlRGF0YSwgMCwgMClcclxuXHJcbiAgICAvLyBTY2FsZSBiYWNrIHVwIGFuZCBkcmF3IHRvIG1haW4gY2FudmFzXHJcbiAgICBjdHguZHJhd0ltYWdlKHRlbXBDYW52YXMsIDAsIDAsIHdpZHRoLCBoZWlnaHQpXHJcbiAgfVxyXG5cclxuICAvLyBUaGlzIHVzZUVmZmVjdCBoYW5kbGVzIHRoZSB2aWRlbyBwcm9jZXNzaW5nIGFuZCB0aGVybWFsIGVmZmVjdCBhcHBsaWNhdGlvblxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICBsZXQgbGFzdFZpZGVvVGltZSA9IC0xXHJcbiAgICBjb25zdCBwcm9jZXNzVmlkZW8gPSAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IHZpZGVvID0gdmlkZW9SZWYuY3VycmVudFxyXG4gICAgICBjb25zdCBjYW52YXMgPSBjYW52YXNSZWYuY3VycmVudFxyXG4gICAgICBpZiAoIXZpZGVvIHx8ICFjYW52YXMgfHwgIWlzQ2FtZXJhUmVhZHkpIHtcclxuICAgICAgICBhbmltYXRpb25GcmFtZUlkLmN1cnJlbnQgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUocHJvY2Vzc1ZpZGVvKVxyXG4gICAgICAgIHJldHVyblxyXG4gICAgICB9XHJcblxyXG4gICAgICBjb25zdCBjdHggPSBjYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpXHJcbiAgICAgIGlmICghY3R4IHx8IHZpZGVvLnBhdXNlZCB8fCB2aWRlby5lbmRlZCB8fCB2aWRlby5jdXJyZW50VGltZSA9PT0gbGFzdFZpZGVvVGltZSkge1xyXG4gICAgICAgIGFuaW1hdGlvbkZyYW1lSWQuY3VycmVudCA9IHJlcXVlc3RBbmltYXRpb25GcmFtZShwcm9jZXNzVmlkZW8pXHJcbiAgICAgICAgcmV0dXJuXHJcbiAgICAgIH1cclxuICAgICAgbGFzdFZpZGVvVGltZSA9IHZpZGVvLmN1cnJlbnRUaW1lXHJcblxyXG4gICAgICAvLyBTZXQgY2FudmFzIHNpemUgdG8gbWF0Y2ggaXRzIGRpc3BsYXkgc2l6ZVxyXG4gICAgICBjb25zdCByZWN0ID0gY2FudmFzLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpXHJcbiAgICAgIGNhbnZhcy53aWR0aCA9IHJlY3Qud2lkdGhcclxuICAgICAgY2FudmFzLmhlaWdodCA9IHJlY3QuaGVpZ2h0XHJcblxyXG4gICAgICAvLyBDbGVhciB0aGUgY2FudmFzXHJcbiAgICAgIGN0eC5jbGVhclJlY3QoMCwgMCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KVxyXG5cclxuICAgICAgLy8gU2NhbGUgdG8gZmlsbCBoZWlnaHQgKHZlcnRpY2FsIHByaW9yaXR5KSAtIGNyb3Agc2lkZXMgaWYgbmVlZGVkXHJcbiAgICAgIGNvbnN0IHZpZGVvQXNwZWN0UmF0aW8gPSB2aWRlby52aWRlb1dpZHRoIC8gdmlkZW8udmlkZW9IZWlnaHRcclxuICAgICAgY29uc3QgY2FudmFzQXNwZWN0UmF0aW8gPSBjYW52YXMud2lkdGggLyBjYW52YXMuaGVpZ2h0XHJcblxyXG4gICAgICBsZXQgZHJhd1dpZHRoLCBkcmF3SGVpZ2h0LCBvZmZzZXRYLCBvZmZzZXRZXHJcblxyXG4gICAgICAvLyBBbHdheXMgZml0IGJ5IGhlaWdodCB0byBmaWxsIHRoZSB2ZXJ0aWNhbCBzcGFjZSBjb21wbGV0ZWx5XHJcbiAgICAgIGRyYXdIZWlnaHQgPSBjYW52YXMuaGVpZ2h0XHJcbiAgICAgIGRyYXdXaWR0aCA9IGRyYXdIZWlnaHQgKiB2aWRlb0FzcGVjdFJhdGlvXHJcblxyXG4gICAgICAvLyBDZW50ZXIgaG9yaXpvbnRhbGx5IChtYXkgY3JvcCBzaWRlcyBpZiB2aWRlbyBpcyB0b28gd2lkZSlcclxuICAgICAgb2Zmc2V0WCA9IChjYW52YXMud2lkdGggLSBkcmF3V2lkdGgpIC8gMlxyXG4gICAgICBvZmZzZXRZID0gMFxyXG5cclxuICAgICAgLy8gQXBwbHkgaG9yaXpvbnRhbCBmbGlwIHRyYW5zZm9ybSBmb3IgbWlycm9yaW5nXHJcbiAgICAgIGN0eC5zYXZlKClcclxuICAgICAgY3R4LnNjYWxlKC0xLCAxKVxyXG4gICAgICBjdHgudHJhbnNsYXRlKC1jYW52YXMud2lkdGgsIDApXHJcblxyXG4gICAgICAvLyBEcmF3IHRoZSB2aWRlbyBmcmFtZVxyXG4gICAgICBjdHguZHJhd0ltYWdlKHZpZGVvLCBvZmZzZXRYLCBvZmZzZXRZLCBkcmF3V2lkdGgsIGRyYXdIZWlnaHQpXHJcblxyXG4gICAgICBjdHgucmVzdG9yZSgpXHJcblxyXG4gICAgICBjb25zdCBub3cgPSBEYXRlLm5vdygpXHJcbiAgICAgIGNvbnN0IGVsYXBzZWQgPSBub3cgLSBwaGFzZVN0YXJ0VGltZS5jdXJyZW50XHJcblxyXG4gICAgICBsZXQgY3VycmVudFRoZXJtYWxQcm9ncmVzcyA9IDBcclxuXHJcbiAgICAgIGlmIChwaGFzZSA9PT0gXCJ0aGVybWFsSG9sZEFmdGVyRG93blwiKSB7XHJcbiAgICAgICAgY3VycmVudFRoZXJtYWxQcm9ncmVzcyA9IE1hdGgubWluKDEsIGVsYXBzZWQgLyAzMDAwKVxyXG4gICAgICB9IGVsc2UgaWYgKHBoYXNlID09PSBcInRoZXJtYWxIb2xkQWZ0ZXJVcFwiKSB7XHJcbiAgICAgICAgY3VycmVudFRoZXJtYWxQcm9ncmVzcyA9IE1hdGgubWluKDEsIGVsYXBzZWQgLyAzMDAwKVxyXG4gICAgICB9IGVsc2UgaWYgKHBoYXNlID09PSBcInJlc3VsdFwiKSB7XHJcbiAgICAgICAgY3VycmVudFRoZXJtYWxQcm9ncmVzcyA9IE1hdGgubWF4KDAsIDEgLSBlbGFwc2VkIC8gMTAwMClcclxuICAgICAgfVxyXG5cclxuICAgICAgc2V0VGhlcm1hbFByb2dyZXNzKGN1cnJlbnRUaGVybWFsUHJvZ3Jlc3MpXHJcblxyXG4gICAgICBjb25zdCBpc1RoZXJtYWxQaGFzZSA9IHBoYXNlID09PSBcInRoZXJtYWxIb2xkQWZ0ZXJEb3duXCIgfHwgcGhhc2UgPT09IFwidGhlcm1hbEhvbGRBZnRlclVwXCIgfHwgcGhhc2UgPT09IFwicmVzdWx0XCJcclxuXHJcbiAgICAgIC8vIEFwcGx5IHRoZXJtYWwgZWZmZWN0IHdpdGggZnJhbWUgc2tpcHBpbmcgZm9yIGJldHRlciBwZXJmb3JtYW5jZVxyXG4gICAgICBpZiAoaXNUaGVybWFsUGhhc2UgJiYgY3VycmVudFRoZXJtYWxQcm9ncmVzcyA+IDApIHtcclxuICAgICAgICBmcmFtZVNraXBDb3VudGVyLmN1cnJlbnQrK1xyXG4gICAgICAgIGlmIChmcmFtZVNraXBDb3VudGVyLmN1cnJlbnQgPj0gVEhFUk1BTF9GUkFNRV9TS0lQKSB7XHJcbiAgICAgICAgICBmcmFtZVNraXBDb3VudGVyLmN1cnJlbnQgPSAwXHJcbiAgICAgICAgICBhcHBseVRoZXJtYWxFZmZlY3QoY3R4LCBjYW52YXMud2lkdGgsIGNhbnZhcy5oZWlnaHQsIGN1cnJlbnRUaGVybWFsUHJvZ3Jlc3MpXHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAocGhhc2UgPT09IFwiaWRsZVwiICYmIGZhY2VMYW5kbWFya2VyKSB7XHJcbiAgICAgICAgY29uc3QgZGV0ZWN0aW9uUmVzdWx0ID0gZmFjZUxhbmRtYXJrZXIuZGV0ZWN0Rm9yVmlkZW8odmlkZW8sIHBlcmZvcm1hbmNlLm5vdygpKVxyXG4gICAgICAgIGlmIChkZXRlY3Rpb25SZXN1bHQuZmFjZUxhbmRtYXJrcyAmJiBkZXRlY3Rpb25SZXN1bHQuZmFjZUxhbmRtYXJrcy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICBzZXRQaGFzZShcImNvdW50ZG93blwiKVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgYW5pbWF0aW9uRnJhbWVJZC5jdXJyZW50ID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHByb2Nlc3NWaWRlbylcclxuICAgIH1cclxuXHJcbiAgICBhbmltYXRpb25GcmFtZUlkLmN1cnJlbnQgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUocHJvY2Vzc1ZpZGVvKVxyXG4gICAgcmV0dXJuICgpID0+IHtcclxuICAgICAgaWYgKGFuaW1hdGlvbkZyYW1lSWQuY3VycmVudCkgY2FuY2VsQW5pbWF0aW9uRnJhbWUoYW5pbWF0aW9uRnJhbWVJZC5jdXJyZW50KVxyXG4gICAgfVxyXG4gIH0sIFtpc0NhbWVyYVJlYWR5LCBmYWNlTGFuZG1hcmtlciwgcGhhc2VdKVxyXG5cclxuICAvLyBSZXN0YXJ0IGxvZ2ljXHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIGlmIChwaGFzZSAhPT0gXCJyZXN1bHRcIikgcmV0dXJuXHJcblxyXG4gICAgY29uc3QgcmVzdGFydFRpbWVvdXQgPSBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgc2V0UmVzdWx0KG51bGwpXHJcbiAgICAgIHNldElzQ29vbChmYWxzZSlcclxuICAgICAgc2V0VGFyZ2V0VGVtcGVyYXR1cmUoMClcclxuICAgICAgc2V0U2hvd1RlbXBlcmF0dXJlKGZhbHNlKVxyXG4gICAgICBzZXRQaGFzZShcImlkbGVcIilcclxuICAgICAgc2V0VGhlcm1hbFByb2dyZXNzKDApXHJcbiAgICAgIHN0YXJ0Q2FtZXJhKClcclxuICAgIH0sIDUwMDApXHJcblxyXG4gICAgcmV0dXJuICgpID0+IGNsZWFyVGltZW91dChyZXN0YXJ0VGltZW91dClcclxuICB9LCBbcGhhc2VdKVxyXG5cclxuICAvLyBNZWRpYVBpcGUgRmFjZUxhbmRtYXJrZXIgc2V0dXBcclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgY29uc3QgY3JlYXRlRmFjZUxhbmRtYXJrZXIgPSBhc3luYyAoKSA9PiB7XHJcbiAgICAgIHRyeSB7XHJcbiAgICAgICAgY29uc3QgdmlzaW9uID0gYXdhaXQgRmlsZXNldFJlc29sdmVyLmZvclZpc2lvblRhc2tzKFxyXG4gICAgICAgICAgXCJodHRwczovL2Nkbi5qc2RlbGl2ci5uZXQvbnBtL0BtZWRpYXBpcGUvdGFza3MtdmlzaW9uQDAuMTAuMC93YXNtXCIsXHJcbiAgICAgICAgKVxyXG4gICAgICAgIGNvbnN0IGxhbmRtYXJrZXIgPSBhd2FpdCBGYWNlTGFuZG1hcmtlci5jcmVhdGVGcm9tT3B0aW9ucyh2aXNpb24sIHtcclxuICAgICAgICAgIGJhc2VPcHRpb25zOiB7IG1vZGVsQXNzZXRQYXRoOiBgLi9mYWNlX2xhbmRtYXJrZXIudGFza2AsIGRlbGVnYXRlOiBcIkdQVVwiIH0sXHJcbiAgICAgICAgICBydW5uaW5nTW9kZTogXCJWSURFT1wiLFxyXG4gICAgICAgICAgbnVtRmFjZXM6IDEsXHJcbiAgICAgICAgICBtaW5GYWNlRGV0ZWN0aW9uQ29uZmlkZW5jZTogMC4zLFxyXG4gICAgICAgICAgbWluRmFjZVByZXNlbmNlQ29uZmlkZW5jZTogMC4zLFxyXG4gICAgICAgICAgbWluVHJhY2tpbmdDb25maWRlbmNlOiAwLjMsXHJcbiAgICAgICAgfSlcclxuICAgICAgICBzZXRGYWNlTGFuZG1hcmtlcihsYW5kbWFya2VyKVxyXG4gICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBpbml0aWFsaXppbmcgZmFjZSBsYW5kbWFya2VyOlwiLCBlcnJvcilcclxuICAgICAgICBhbGVydChcIkZhaWxlZCB0byBpbml0aWFsaXplIGZhY2UgZGV0ZWN0aW9uLiBQbGVhc2UgZW5zdXJlIHRoZSBtb2RlbCBmaWxlIGlzIGFjY2Vzc2libGUuXCIpXHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGVGYWNlTGFuZG1hcmtlcigpXHJcbiAgfSwgW10pXHJcblxyXG4gIGNvbnN0IHN0YXJ0Q2FtZXJhID0gYXN5bmMgKCkgPT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgaWYgKHN0cmVhbVJlZi5jdXJyZW50KSB7XHJcbiAgICAgICAgc3RyZWFtUmVmLmN1cnJlbnQuZ2V0VHJhY2tzKCkuZm9yRWFjaCgodHJhY2spID0+IHRyYWNrLnN0b3AoKSlcclxuICAgICAgfVxyXG5cclxuICAgICAgY29uc3Qgc3RyZWFtID0gYXdhaXQgbmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWEoe1xyXG4gICAgICAgIHZpZGVvOiB7XHJcbiAgICAgICAgICBmYWNpbmdNb2RlOiBcInVzZXJcIixcclxuICAgICAgICAgIHdpZHRoOiB7IGlkZWFsOiAxMjgwIH0sXHJcbiAgICAgICAgICBoZWlnaHQ6IHsgaWRlYWw6IDcyMCB9LFxyXG4gICAgICAgIH0sXHJcbiAgICAgIH0pXHJcblxyXG4gICAgICBzdHJlYW1SZWYuY3VycmVudCA9IHN0cmVhbVxyXG4gICAgICBpZiAodmlkZW9SZWYuY3VycmVudCkge1xyXG4gICAgICAgIHZpZGVvUmVmLmN1cnJlbnQuc3JjT2JqZWN0ID0gc3RyZWFtXHJcbiAgICAgICAgdmlkZW9SZWYuY3VycmVudC5vbmxvYWRlZG1ldGFkYXRhID0gKCkgPT4ge1xyXG4gICAgICAgICAgdmlkZW9SZWYuY3VycmVudD8ucGxheSgpLmNhdGNoKChlcnIpID0+IGNvbnNvbGUuZXJyb3IoXCJFcnJvciBwbGF5aW5nIHZpZGVvOlwiLCBlcnIpKVxyXG4gICAgICAgICAgc2V0SXNDYW1lcmFSZWFkeSh0cnVlKVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIGFjY2Vzc2luZyBjYW1lcmE6XCIsIGVycm9yKVxyXG4gICAgICBhbGVydChcIkNvdWxkIG5vdCBhY2Nlc3MgdGhlIGNhbWVyYS4gUGxlYXNlIGNoZWNrIHBlcm1pc3Npb25zLlwiKVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgY29uc3Qgc3RvcENhbWVyYSA9ICgpID0+IHtcclxuICAgIGlmIChzdHJlYW1SZWYuY3VycmVudCkge1xyXG4gICAgICBzdHJlYW1SZWYuY3VycmVudC5nZXRUcmFja3MoKS5mb3JFYWNoKCh0cmFjaykgPT4gdHJhY2suc3RvcCgpKVxyXG4gICAgICBzdHJlYW1SZWYuY3VycmVudCA9IG51bGxcclxuICAgIH1cclxuICAgIGlmICh2aWRlb1JlZi5jdXJyZW50KSB7XHJcbiAgICAgIHZpZGVvUmVmLmN1cnJlbnQuc3JjT2JqZWN0ID0gbnVsbFxyXG4gICAgfVxyXG4gICAgc2V0SXNDYW1lcmFSZWFkeShmYWxzZSlcclxuICB9XHJcblxyXG4gIGNvbnN0IGhhbmRsZUNvdW50ZG93bkNvbXBsZXRlID0gKCkgPT4ge1xyXG4gICAgc2V0UGhhc2UoXCJzY2FuRG93blwiKVxyXG4gIH1cclxuXHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIHN0YXJ0Q2FtZXJhKClcclxuICAgIHJldHVybiAoKSA9PiBzdG9wQ2FtZXJhKClcclxuICB9LCBbXSlcclxuXHJcbiAgaWYgKHBoYXNlID09PSBcInJlc3VsdFwiICYmIHJlc3VsdCkge1xyXG4gICAgcmV0dXJuIDxSZXN1bHRTY3JlZW4gbWVzc2FnZT17cmVzdWx0fSBpc0Nvb2w9e2lzQ29vbH0gLz5cclxuICB9XHJcblxyXG4gIHJldHVybiAoXHJcbiAgICA8ZGl2IGNsYXNzTmFtZT1cInNjYW5uZXItY29udGFpbmVyXCI+XHJcbiAgICAgIHtwaGFzZSA9PT0gXCJjb3VudGRvd25cIiAmJiA8TG90dGllQ291bnRkb3duIG9uQ29tcGxldGU9e2hhbmRsZUNvdW50ZG93bkNvbXBsZXRlfSAvPn1cclxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJjYW1lcmEtd3JhcHBlclwiPlxyXG4gICAgICAgIDxjYW52YXMgcmVmPXtjYW52YXNSZWZ9IGNsYXNzTmFtZT1cImNhbWVyYS1jYW52YXNcIiAvPlxyXG4gICAgICAgIDx2aWRlbyByZWY9e3ZpZGVvUmVmfSBhdXRvUGxheSBwbGF5c0lubGluZSBtdXRlZCBzdHlsZT17eyBkaXNwbGF5OiBcIm5vbmVcIiB9fSAvPlxyXG4gICAgICAgIDxpbWcgc3JjPVwiLi9pbWFnZXMvZnJhbWUucG5nXCIgY2xhc3NOYW1lPVwiZnJhbWUtb3ZlcmxheVwiIGFsdD1cIkZyYW1lIG92ZXJsYXlcIiAvPlxyXG5cclxuICAgICAgICB7IWlzQ2FtZXJhUmVhZHkgJiYgPFN0YXR1c1RleHQ+SW5pdGlhbGl6aW5nIENhbWVyYS4uLjwvU3RhdHVzVGV4dD59XHJcbiAgICAgICAge2lzQ2FtZXJhUmVhZHkgJiYgcGhhc2UgPT09IFwiaWRsZVwiICYmIDxTdGF0dXNUZXh0PlBsZWFzZSBsb29rIGF0IHRoZSBjYW1lcmEuPC9TdGF0dXNUZXh0Pn1cclxuXHJcbiAgICAgICAgeyhwaGFzZSA9PT0gXCJzY2FuRG93blwiIHx8IHBoYXNlID09PSBcInNjYW5VcFwiKSAmJiA8U2Nhbm5pbmdMaW5lIGRpcmVjdGlvbj17cGhhc2V9IC8+fVxyXG5cclxuICAgICAgICA8QW5pbWF0ZWRUZW1wZXJhdHVyZURpc3BsYXkgdGFyZ2V0VGVtcD17dGFyZ2V0VGVtcGVyYXR1cmV9IGlzVmlzaWJsZT17c2hvd1RlbXBlcmF0dXJlfSAvPlxyXG4gICAgICA8L2Rpdj5cclxuXHJcbiAgICAgIDxzdHlsZT57YFxyXG4gICAgICAgIC5zY2FubmVyLWNvbnRhaW5lciB7XHJcbiAgICAgICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XHJcbiAgICAgICAgICB3aWR0aDogMTAwdnc7XHJcbiAgICAgICAgICBoZWlnaHQ6IDEwMHZoO1xyXG4gICAgICAgICAgb3ZlcmZsb3c6IGhpZGRlbjtcclxuICAgICAgICAgIGJhY2tncm91bmQ6IGJsYWNrO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLmNhbWVyYS13cmFwcGVyIHtcclxuICAgICAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcclxuICAgICAgICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgICAgICAgaGVpZ2h0OiAxMDAlO1xyXG4gICAgICAgICAgZGlzcGxheTogZmxleDtcclxuICAgICAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xyXG4gICAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC5jYW1lcmEtY2FudmFzIHtcclxuICAgICAgICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgICAgICAgaGVpZ2h0OiAxMDAlO1xyXG4gICAgICAgICAgb2JqZWN0LWZpdDogY292ZXI7XHJcbiAgICAgICAgICBiYWNrZ3JvdW5kOiBibGFjaztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC5mcmFtZS1vdmVybGF5IHtcclxuICAgICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgICAgICAgIHRvcDogNTAlO1xyXG4gICAgICAgICAgbGVmdDogNTAlO1xyXG4gICAgICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGUoLTUwJSwgLTUwJSk7XHJcbiAgICAgICAgICB3aWR0aDogMTAwJTtcclxuICAgICAgICAgIGhlaWdodDogMTAwJTtcclxuICAgICAgICAgIG9iamVjdC1maXQ6IGNvdmVyO1xyXG4gICAgICAgICAgcG9pbnRlci1ldmVudHM6IG5vbmU7XHJcbiAgICAgICAgICB6LWluZGV4OiAyNTtcclxuICAgICAgICB9XHJcbiAgICAgIGB9PC9zdHlsZT5cclxuICAgIDwvZGl2PlxyXG4gIClcclxufVxyXG5cclxuY29uc3QgU3RhdHVzVGV4dDogUmVhY3QuRkM8eyBjaGlsZHJlbjogUmVhY3QuUmVhY3ROb2RlIH0+ID0gKHsgY2hpbGRyZW4gfSkgPT4gKFxyXG4gIDxkaXZcclxuICAgIHN0eWxlPXt7XHJcbiAgICAgIHBvc2l0aW9uOiBcImFic29sdXRlXCIsXHJcbiAgICAgIGluc2V0OiAwLFxyXG4gICAgICBkaXNwbGF5OiBcImZsZXhcIixcclxuICAgICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIixcclxuICAgICAganVzdGlmeUNvbnRlbnQ6IFwiY2VudGVyXCIsXHJcbiAgICAgIHpJbmRleDogMjAsXHJcbiAgICAgIHBvaW50ZXJFdmVudHM6IFwibm9uZVwiLFxyXG4gICAgfX1cclxuICA+XHJcbiAgICA8cFxyXG4gICAgICBzdHlsZT17e1xyXG4gICAgICAgIGNvbG9yOiBcIndoaXRlXCIsXHJcbiAgICAgICAgZm9udFNpemU6IFwiMi4yNXJlbVwiLFxyXG4gICAgICAgIGZvbnRXZWlnaHQ6IFwiODAwXCIsXHJcbiAgICAgICAgYmFja2dyb3VuZDogXCJyZ2JhKDAsMCwwLDAuNylcIixcclxuICAgICAgICBwYWRkaW5nOiBcIjFyZW0gMnJlbVwiLFxyXG4gICAgICAgIGJvcmRlclJhZGl1czogXCIwLjVyZW1cIixcclxuICAgICAgICBiYWNrZHJvcEZpbHRlcjogXCJibHVyKDVweClcIixcclxuICAgICAgICBib3JkZXI6IFwiMXB4IHNvbGlkIHJnYmEoMzQsMjExLDIzOCwwLjMpXCIsXHJcbiAgICAgIH19XHJcbiAgICA+XHJcbiAgICAgIHtjaGlsZHJlbn1cclxuICAgIDwvcD5cclxuICA8L2Rpdj5cclxuKVxyXG5cclxuY29uc3QgU2Nhbm5pbmdMaW5lOiBSZWFjdC5GQzx7IGRpcmVjdGlvbjogXCJzY2FuRG93blwiIHwgXCJzY2FuVXBcIiB9PiA9ICh7IGRpcmVjdGlvbiB9KSA9PiB7XHJcbiAgcmV0dXJuIChcclxuICAgIDxkaXZcclxuICAgICAgc3R5bGU9e3tcclxuICAgICAgICBwb3NpdGlvbjogXCJhYnNvbHV0ZVwiLFxyXG4gICAgICAgIGxlZnQ6IDAsXHJcbiAgICAgICAgcmlnaHQ6IDAsXHJcbiAgICAgICAgaGVpZ2h0OiBcIjRweFwiLFxyXG4gICAgICAgIGJhY2tncm91bmQ6IFwibGluZWFyLWdyYWRpZW50KDkwZGVnLCB0cmFuc3BhcmVudCwgIzAwZmY4OCwgIzAwY2NmZiwgIzAwZmY4OCwgdHJhbnNwYXJlbnQpXCIsXHJcbiAgICAgICAgYm94U2hhZG93OiBcIjAgMCAxMHB4ICMwMGZmODgsIDAgMCAyMHB4ICMwMGZmODgsIDAgMCAzMHB4ICMwMGZmODhcIixcclxuICAgICAgICB6SW5kZXg6IDIwLFxyXG4gICAgICAgIGFuaW1hdGlvbjogZGlyZWN0aW9uID09PSBcInNjYW5Eb3duXCIgPyBcInNjYW5Eb3duIDNzIGxpbmVhclwiIDogXCJzY2FuVXAgM3MgbGluZWFyXCIsXHJcbiAgICAgIH19XHJcbiAgICA+XHJcbiAgICAgIDxzdHlsZT57YFxyXG4gICAgICAgIEBrZXlmcmFtZXMgc2NhbkRvd24ge1xyXG4gICAgICAgICAgMCUgeyB0b3A6IDAlOyB9XHJcbiAgICAgICAgICAxMDAlIHsgdG9wOiAxMDAlOyB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIEBrZXlmcmFtZXMgc2NhblVwIHtcclxuICAgICAgICAgIDAlIHsgdG9wOiAxMDAlOyB9XHJcbiAgICAgICAgICAxMDAlIHsgdG9wOiAwJTsgfVxyXG4gICAgICAgIH1cclxuICAgICAgYH08L3N0eWxlPlxyXG4gICAgPC9kaXY+XHJcbiAgKVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBUaGVybWFsU2Nhbm5lclxyXG4iXSwibmFtZXMiOlsidXNlRWZmZWN0IiwidXNlUmVmIiwidXNlU3RhdGUiLCJGYWNlTGFuZG1hcmtlciIsIkZpbGVzZXRSZXNvbHZlciIsIlJlc3VsdFNjcmVlbiIsImNyZWF0ZVRoZXJtYWxMb29rdXBUYWJsZSIsImxvb2t1cFRhYmxlIiwiaSIsIm5vcm1hbGl6ZWQiLCJ0IiwiTWF0aCIsImZsb29yIiwidGhlcm1hbExvb2t1cFRhYmxlIiwiQVNQRUNUX1JBVElPIiwiV0lEVEgiLCJIRUlHSFQiLCJyb3VuZCIsIkxvdHRpZUNvdW50ZG93biIsIm9uQ29tcGxldGUiLCJpc0NvbXBsZXRlZCIsInNldElzQ29tcGxldGVkIiwiaGFuZGxlTWVzc2FnZSIsImV2ZW50IiwiZGF0YSIsIndpbmRvdyIsImFkZEV2ZW50TGlzdGVuZXIiLCJmYWxsYmFja1RpbWVyIiwic2V0VGltZW91dCIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJjbGVhclRpbWVvdXQiLCJkaXYiLCJzdHlsZSIsInBvc2l0aW9uIiwiaW5zZXQiLCJkaXNwbGF5IiwianVzdGlmeUNvbnRlbnQiLCJhbGlnbkl0ZW1zIiwiekluZGV4IiwiYmFja2dyb3VuZCIsImJhY2tkcm9wRmlsdGVyIiwiaWZyYW1lIiwic3JjIiwid2lkdGgiLCJoZWlnaHQiLCJib3JkZXIiLCJ0aXRsZSIsIkFuaW1hdGVkVGVtcGVyYXR1cmVEaXNwbGF5IiwidGFyZ2V0VGVtcCIsImlzVmlzaWJsZSIsImN1cnJlbnRUZW1wIiwic2V0Q3VycmVudFRlbXAiLCJpc0FuaW1hdGlvbkNvbXBsZXRlIiwic2V0SXNBbmltYXRpb25Db21wbGV0ZSIsImFuaW1hdGlvblJlZiIsInN0YXJ0VGltZVJlZiIsImN1cnJlbnQiLCJEYXRlIiwibm93IiwiYW5pbWF0ZSIsImVsYXBzZWQiLCJkdXJhdGlvbiIsInByb2dyZXNzIiwiZWFzZU91dFF1YXJ0IiwicG93IiwidGVtcFJhbmdlIiwibmV3VGVtcCIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsImNhbmNlbEFuaW1hdGlvbkZyYW1lIiwiYm90dG9tIiwibGVmdCIsInRyYW5zZm9ybSIsInBvaW50ZXJFdmVudHMiLCJjb2xvciIsImZvbnRTaXplIiwiZm9udFdlaWdodCIsImZvbnRGYW1pbHkiLCJ0ZXh0U2hhZG93IiwiYW5pbWF0aW9uIiwiZmlsdGVyIiwic3BhbiIsInRvRml4ZWQiLCJ0b3AiLCJib3JkZXJSYWRpdXMiLCJBcnJheSIsIm1hcCIsIl8iLCJib3hTaGFkb3ciLCJUaGVybWFsU2Nhbm5lciIsInZpZGVvUmVmIiwiY2FudmFzUmVmIiwic3RyZWFtUmVmIiwicGhhc2UiLCJzZXRQaGFzZSIsInJlc3VsdCIsInNldFJlc3VsdCIsImlzQ29vbCIsInNldElzQ29vbCIsImZhY2VMYW5kbWFya2VyIiwic2V0RmFjZUxhbmRtYXJrZXIiLCJpc0NhbWVyYVJlYWR5Iiwic2V0SXNDYW1lcmFSZWFkeSIsInRoZXJtYWxQcm9ncmVzcyIsInNldFRoZXJtYWxQcm9ncmVzcyIsInRhcmdldFRlbXBlcmF0dXJlIiwic2V0VGFyZ2V0VGVtcGVyYXR1cmUiLCJzaG93VGVtcGVyYXR1cmUiLCJzZXRTaG93VGVtcGVyYXR1cmUiLCJhbmltYXRpb25GcmFtZUlkIiwidW5kZWZpbmVkIiwicGhhc2VTdGFydFRpbWUiLCJmcmFtZVNraXBDb3VudGVyIiwiVEhFUk1BTF9GUkFNRV9TS0lQIiwidGltZXIiLCJjb29sIiwicmFuZG9tIiwidGVtcFRpbWVyIiwidGVtcFZhbHVlIiwicGhhc2VUaW1lciIsInN0b3BDYW1lcmEiLCJhcHBseVRoZXJtYWxFZmZlY3QiLCJjdHgiLCJzY2FsZUZhY3RvciIsInByb2Nlc3NXaWR0aCIsInByb2Nlc3NIZWlnaHQiLCJ0ZW1wQ2FudmFzIiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50IiwidGVtcEN0eCIsImdldENvbnRleHQiLCJkcmF3SW1hZ2UiLCJjYW52YXMiLCJpbWFnZURhdGEiLCJnZXRJbWFnZURhdGEiLCJsZW5ndGgiLCJncmF5IiwidGhlcm1hbFIiLCJ0aGVybWFsRyIsInRoZXJtYWxCIiwicHV0SW1hZ2VEYXRhIiwibGFzdFZpZGVvVGltZSIsInByb2Nlc3NWaWRlbyIsInZpZGVvIiwicGF1c2VkIiwiZW5kZWQiLCJjdXJyZW50VGltZSIsInJlY3QiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJjbGVhclJlY3QiLCJ2aWRlb0FzcGVjdFJhdGlvIiwidmlkZW9XaWR0aCIsInZpZGVvSGVpZ2h0IiwiY2FudmFzQXNwZWN0UmF0aW8iLCJkcmF3V2lkdGgiLCJkcmF3SGVpZ2h0Iiwib2Zmc2V0WCIsIm9mZnNldFkiLCJzYXZlIiwic2NhbGUiLCJ0cmFuc2xhdGUiLCJyZXN0b3JlIiwiY3VycmVudFRoZXJtYWxQcm9ncmVzcyIsIm1pbiIsIm1heCIsImlzVGhlcm1hbFBoYXNlIiwiZGV0ZWN0aW9uUmVzdWx0IiwiZGV0ZWN0Rm9yVmlkZW8iLCJwZXJmb3JtYW5jZSIsImZhY2VMYW5kbWFya3MiLCJyZXN0YXJ0VGltZW91dCIsInN0YXJ0Q2FtZXJhIiwiY3JlYXRlRmFjZUxhbmRtYXJrZXIiLCJ2aXNpb24iLCJmb3JWaXNpb25UYXNrcyIsImxhbmRtYXJrZXIiLCJjcmVhdGVGcm9tT3B0aW9ucyIsImJhc2VPcHRpb25zIiwibW9kZWxBc3NldFBhdGgiLCJkZWxlZ2F0ZSIsInJ1bm5pbmdNb2RlIiwibnVtRmFjZXMiLCJtaW5GYWNlRGV0ZWN0aW9uQ29uZmlkZW5jZSIsIm1pbkZhY2VQcmVzZW5jZUNvbmZpZGVuY2UiLCJtaW5UcmFja2luZ0NvbmZpZGVuY2UiLCJlcnJvciIsImNvbnNvbGUiLCJhbGVydCIsImdldFRyYWNrcyIsImZvckVhY2giLCJ0cmFjayIsInN0b3AiLCJzdHJlYW0iLCJuYXZpZ2F0b3IiLCJtZWRpYURldmljZXMiLCJnZXRVc2VyTWVkaWEiLCJmYWNpbmdNb2RlIiwiaWRlYWwiLCJzcmNPYmplY3QiLCJvbmxvYWRlZG1ldGFkYXRhIiwicGxheSIsImNhdGNoIiwiZXJyIiwiaGFuZGxlQ291bnRkb3duQ29tcGxldGUiLCJtZXNzYWdlIiwiY2xhc3NOYW1lIiwicmVmIiwiYXV0b1BsYXkiLCJwbGF5c0lubGluZSIsIm11dGVkIiwiaW1nIiwiYWx0IiwiU3RhdHVzVGV4dCIsIlNjYW5uaW5nTGluZSIsImRpcmVjdGlvbiIsImNoaWxkcmVuIiwicCIsInBhZGRpbmciLCJyaWdodCJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(pages-dir-browser)/./src/components/ThermalScanner.tsx\n"));

/***/ })

});